import json
import datetime
import time
import _thread as thread
from collections import Counter
import pandas as pd
from django.http import HttpResponse, HttpResponseRedirect, JsonResponse
from django.template import loader
from django.urls import reverse, reverse_lazy
from django.shortcuts import render
from django.core import serializers 
from django.db import transaction
from django.db.models import F
from django.contrib import messages
from django.contrib.auth import authenticate, login, logout
from django.contrib.auth.decorators import user_passes_test
from django.contrib.auth.views import PasswordChangeView
from django.contrib.auth.forms import PasswordChangeForm
from django.contrib.auth.models import User 
from .models import Members,Capacity,Selection,Shared
from csv import reader 
from pytz import timezone
import re
from .forms import FarsiPasswordChangeForm


#dar excel hame ro merge konam
#dar excel space hare begiram
#amade kardan line_maker va line_maker_react
#ezafe kardan line ha be list dar handleChange dar select
#css + <col> dar capacity
#moghe ezafe kardan style az capacity be select ; display:none } ro dashte basham
#capacity table in db
#list asami
#password list
#add safhe etelaat
#edit realtime data
#edit select row 578 to 984
#line selection form order

def index(request):
    template = loader.get_template('index.html')
    return HttpResponse(template.render({},request))

def member(request):
    mymembers = Members.objects.all().values(*[field.name for field in Members._meta.fields if field.name != 'student_id']).order_by('num')
    template = loader.get_template('member.html')
    context = {'mymembers': mymembers,}
    return HttpResponse(template.render(context, request))

def select(request):
    if request.method == "POST":
        username = request.POST['username']
        password = request.POST['password']
        user = authenticate(request, username=username, password=password)
        if user is not None:         
            time_z = timezone('Asia/Tehran')
            now_time = datetime.datetime.now( tz = time_z )
            now = datetime.datetime.strptime(str(now_time)[:19], '%Y-%m-%d %H:%M:%S')
            print('select1',request.session.session_key)
            print('select2',username,password,now)
            me =  Members.objects.get(student_id=user)
            now_time = datetime.datetime.now( tz = time_z )
            now = datetime.datetime.strptime(str(now_time)[:19], '%Y-%m-%d %H:%M:%S')
            end_t = datetime.datetime.strptime(str(me.end_time)[:19], '%Y-%m-%d %H:%M:%S')
            start_t = datetime.datetime.strptime(str(me.start_time)[:19], '%Y-%m-%d %H:%M:%S')
            print(start_t,now,end_t)
            print(request.session.session_key)
            if start_t < now and end_t > now:
                
                thread.start_new_thread( capacity_checker, () )      
            
                login(request, user)

                me =  Members.objects.get(student_id=user)
                me.logged = True
                me.save()

                premycapacity = pd.DataFrame(list(Capacity.objects.all().values()))
                myshared = pd.DataFrame(list(Shared.objects.all().values()))
                mycapacity = pd.DataFrame()
                for _, shared_row in myshared.iterrows():
                    shared_unit_value = shared_row['shared_unit']
                    replacement_unit_value = shared_row['unit']       
                    matching_rows = premycapacity[premycapacity['unit'] == shared_unit_value].copy()        
                    matching_rows['unit'] = replacement_unit_value        
                    mycapacity = pd.concat([mycapacity, matching_rows], ignore_index=True)
                data = mycapacity.to_json(orient='records')
                template = loader.get_template('select.html')
                data_myselection = Selection.objects.all()
                myselection  = serializers.serialize('json', data_myselection)
                x='[ { "id":1, "class":"sheet0 gridlines", "first":{ "class":"column0 style2 null", "content":"" }, "second":{ "id":"1", "title":"1 A-1A", "class":"column1 style3 s", "content":"1 A" }, "third":{ "id":"2", "title":"1 B-1B", "class":"column2 style3 s", "content":"1 B" }, "forth":{ "id":"3", "title":"2 A-2A", "class":"column3 style3 s", "content":"2 A" }, "fifth":{ "id":"4", "title":"2 B-2B", "class":"column4 style3 s", "content":"2 B" }, "sixth":{ "id":"5", "title":"3 A-3A", "class":"column5 style3 s", "content":"3 A" }, "seventh":{ "id":"6", "title":"3 B-3B", "class":"column6 style3 s", "content":"3 B" }, "eighth":{ "id":"7", "title":"4 A-4A", "class":"column7 style3 s", "content":"4 A" }, "nineth":{ "id":"8", "title":"4 B-4B", "class":"column8 style3 s", "content":"4 B" }, "tenth":{ "id":"9", "title":"5 A-5A", "class":"column9 style3 s", "content":"5 A" }, "eleventh":{ "id":"10", "title":"5 B-5B", "class":"column10 style3 s", "content":"5 B" }, "twelveth":{ "id":"11", "title":"6 A-6A", "class":"column11 style3 s", "content":"6 A" }, "thirteenth":{ "id":"12", "title":"6 B-6B", "class":"column12 style3 s", "content":"6 B" }, "fourteenth":{ "id":"13", "title":"7 A-7A", "class":"column13 style3 s", "content":"7 A" }, "fifteenth":{ "id":"14", "title":"7 B-7B", "class":"column14 style3 s", "content":"7 B" }, "sixteenth":{ "id":"15", "title":"8 A-8A", "class":"column15 style3 s", "content":"8 A" }, "seventeenth":{ "id":"16", "title":"8 B-8B", "class":"column16 style3 s", "content":"8 B" }, "eighteenth":{ "id":"17", "title":"9 A-9A", "class":"column17 style3 s", "content":"9 A" }, "nineteenth":{ "id":"18", "title":"9 B-9B", "class":"column18 style3 s", "content":"9 B" }, "twentieth":{ "id":"19", "title":"10 A-10A", "class":"column19 style3 s", "content":"10 A" }, "twentyfirst":{ "id":"20", "title":"10 B-10B", "class":"column20 style3 s", "content":"10 B" }, "twentysecond":{ "id":"21", "title":"11 A-11A", "class":"column21 style3 s", "content":"11 A" }, "twentythird":{ "id":"22", "title":"11 B-11B", "class":"column22 style3 s", "content":"11 B" }, "twentyfourth":{ "id":"23", "title":"12 A-12A", "class":"column23 style3 s", "content":"12 A" }, "twentyfifth":{ "id":"24", "title":"12 B-12B", "class":"column24 style3 s", "content":"12 B" }, "twentysixth":{ "id":"25", "title":"13 A-13A", "class":"column25 style3 s", "content":"13 A" }, "twentyseventh":{ "id":"26", "title":"13 B-13B", "class":"column26 style3 s", "content":"13 B" }, "twentyeighth":{ "id":"27", "title":"14 A-14A", "class":"column27 style3 s", "content":"14 A" }, "twentyninth":{ "id":"28", "title":"14 B-14B", "class":"column28 style3 s", "content":"14 B" }, "thirtieth":{ "id":"29", "title":"15 A-15A", "class":"column29 style3 s", "content":"15 A" }, "thirtyfirst":{ "id":"30", "title":"15 B-15B", "class":"column30 style3 s", "content":"15 B" }, "thirtysecond":{ "id":"31", "title":"16 A-16A", "class":"column31 style3 s", "content":"16 A" }, "thirtythird":{ "id":"32", "title":"16 B-16B", "class":"column32 style3 s", "content":"16 B" }, "thirtyfourth":{ "id":"33", "title":"17 A-17A", "class":"column33 style3 s", "content":"17 A" }, "thirtyfifth":{ "id":"34", "title":"17 B-17B", "class":"column34 style3 s", "content":"17 B" }, "thirtysixth":{ "id":"35", "title":"18 A-18A", "class":"column35 style3 s", "content":"18 A" }, "thirtyseventh":{ "id":"36", "title":"18 B-18B", "class":"column36 style3 s", "content":"18 B" } }, { "id":2, "class":"row1", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه اول" }, "second":{ "id":"37", "title":"جراحی-1A", "class":"column1 style12 s style12", "rowspan":"4", "content":"جراحی" }, "third":{ "id":"38", "title":"جراحی-1B", "class":"column2 style12 s style12", "rowspan":"4", "content":"جراحی" }, "forth":{ "id":"39", "title":"جراحی-2A", "class":"column3 style12 s style12", "rowspan":"4", "content":"جراحی" }, "fifth":{ "id":"40", "title":"جراحی-2B", "class":"column4 style12 s style12", "rowspan":"4", "content":"جراحی" }, "sixth":{ "id":"41", "title":"زنان-3A", "class":"column5 style10 s style10", "rowspan":"2", "content":"زنان" }, "seventh":{ "id":"42", "title":"زنان-3B", "class":"column6 style10 s style10", "rowspan":"2", "content":"زنان" }, "eighth":{ "id":"43", "title":"اورژانس-4A", "class":"column7 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "nineth":{ "id":"44", "title":"اورژانس-4B", "class":"column8 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "tenth":{ "id":"45", "title":"پزشکی خانواده-5A", "class":"column9 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "eleventh":{ "id":"46", "title":"پزشکی خانواده-5B", "class":"column10 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twelveth":{ "id":"47", "title":"پزشکی خانواده-6A", "class":"column11 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "thirteenth":{ "id":"48", "title":"پزشکی خانواده-6B", "class":"column12 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "fourteenth":{ "id":"49", "title":"داخلی-7A", "class":"column13 style18 s style18", "rowspan":"6", "content":"داخلی" }, "fifteenth":{ "id":"50", "title":"داخلی-7B", "class":"column14 style18 s style18", "rowspan":"6", "content":"داخلی" }, "sixteenth":{ "id":"51", "title":"داخلی-8A", "class":"column15 style18 s style18", "rowspan":"6", "content":"داخلی" }, "seventeenth":{ "id":"52", "title":"داخلی-8B", "class":"column16 style18 s style18", "rowspan":"6", "content":"داخلی" }, "eighteenth":{ "id":"53", "title":"داخلی-9A", "class":"column17 style18 s style18", "rowspan":"6", "content":"داخلی" }, "nineteenth":{ "id":"54", "title":"داخلی-9B", "class":"column18 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentieth":{ "id":"55", "title":"بهداشت-10A", "class":"column19 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twentyfirst":{ "id":"56", "title":"بهداشت-10B", "class":"column20 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twentysecond":{ "id":"57", "title":"عفونی-11A", "class":"column21 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentythird":{ "id":"58", "title":"عفونی-11B", "class":"column22 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentyfourth":{ "id":"59", "title":"الکتیو-اول-12A", "class":"column23 style4 s", "content":"الکتیو-اول" }, "twentyfifth":{ "id":"60", "title":"الکتیو-اول-12B", "class":"column24 style4 s", "content":"الکتیو-اول" }, "twentysixth":{ "id":"61", "title":"کودکان-13A", "class":"column25 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyseventh":{ "id":"62", "title":"کودکان-13B", "class":"column26 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyeighth":{ "id":"63", "title":"کودکان-14A", "class":"column27 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyninth":{ "id":"64", "title":"کودکان-14B", "class":"column28 style13 s style13", "rowspan":"6", "content":"کودکان" }, "thirtieth":{ "id":"65", "title":"کودکان-15A", "class":"column29 style13 s style13", "rowspan":"6", "content":"کودکان" }, "thirtyfirst":{ "id":"66", "title":"کودکان-15B", "class":"column30 style13 s style13", "rowspan":"6", "content":"کودکان" }, "thirtysecond":{ "id":"67", "title":"روان-16A", "class":"column31 style14 s style14", "rowspan":"2", "content":"روان" }, "thirtythird":{ "id":"68", "title":"روان-16B", "class":"column32 style14 s style14", "rowspan":"2", "content":"روان" }, "thirtyfourth":{ "id":"69", "title":"الکتیو-اول-17A", "class":"column33 style4 s", "content":"الکتیو-اول" }, "thirtyfifth":{ "id":"70", "title":"ارتوپدی-17B", "class":"column34 style5 s", "content":"ارتوپدی" }, "thirtysixth":{ "id":"71", "title":"قلب-18A", "class":"column35 style6 s", "content":"قلب" }, "thirtyseventh":{ "id":"72", "title":"پوست-18B", "class":"column36 style7 s", "content":"پوست" } }, { "id":3, "class":"row2", "first":{ "id":"73", "title":"الکتیو-دوم-12A", "class":"column23 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"74", "title":"الکتیو-دوم-12B", "class":"column24 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"75", "title":"ارتوپدی-17A", "class":"column33 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"76", "title":"الکتیو-اول-17B", "class":"column34 style4 s", "content":"الکتیو-اول" }, "fifth":{ "id":"77", "title":"پوست-18A", "class":"column35 style7 s", "content":"پوست" }, "sixth":{ "id":"78", "title":"قلب-18B", "class":"column36 style6 s", "content":"قلب" } }, { "id":4, "class":"row3", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه دوم" }, "second":{ "id":"79", "title":"اورژانس-3A", "class":"column5 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "third":{ "id":"80", "title":"اورژانس-3B", "class":"column6 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "forth":{ "id":"81", "title":"زنان-4A", "class":"column7 style10 s style10", "rowspan":"2", "content":"زنان" }, "fifth":{ "id":"82", "title":"زنان-4B", "class":"column8 style10 s style10", "rowspan":"2", "content":"زنان" }, "sixth":{ "id":"83", "title":"الکتیو-اول-10A", "class":"column19 style4 s", "content":"الکتیو-اول" }, "seventh":{ "id":"84", "title":"الکتیو-اول-10B", "class":"column20 style4 s", "content":"الکتیو-اول" }, "eighth":{ "id":"85", "title":"بهداشت-11A", "class":"column21 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "nineth":{ "id":"86", "title":"بهداشت-11B", "class":"column22 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "tenth":{ "id":"87", "title":"عفونی-12A", "class":"column23 style17 s style17", "rowspan":"2", "content":"عفونی" }, "eleventh":{ "id":"88", "title":"عفونی-12B", "class":"column24 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twelveth":{ "id":"89", "title":"قلب-16A", "class":"column31 style6 s", "content":"قلب" }, "thirteenth":{ "id":"90", "title":"پوست-16B", "class":"column32 style7 s", "content":"پوست" }, "fourteenth":{ "id":"91", "title":"روان-17A", "class":"column33 style14 s style14", "rowspan":"2", "content":"روان" }, "fifteenth":{ "id":"92", "title":"روان-17B", "class":"column34 style14 s style14", "rowspan":"2", "content":"روان" }, "sixteenth":{ "id":"93", "title":"الکتیو-اول-18A", "class":"column35 style4 s", "content":"الکتیو-اول" }, "seventeenth":{ "id":"94", "title":"ارتوپدی-18B", "class":"column36 style5 s", "content":"ارتوپدی" } }, { "id":5, "class":"row4", "first":{ "id":"95", "title":"الکتیو-دوم-10A", "class":"column19 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"96", "title":"الکتیو-دوم-10B", "class":"column20 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"97", "title":"پوست-16A", "class":"column31 style7 s", "content":"پوست" }, "forth":{ "id":"98", "title":"قلب-16B", "class":"column32 style6 s", "content":"قلب" }, "fifth":{ "id":"99", "title":"ارتوپدی-18A", "class":"column35 style5 s", "content":"ارتوپدی" }, "sixth":{ "id":"100", "title":"الکتیو-اول-18B", "class":"column36 style4 s", "content":"الکتیو-اول" } }, { "id":6, "class":"row5", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه سوم" }, "second":{ "id":"101", "title":"پزشکی خانواده-1A", "class":"column1 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "third":{ "id":"102", "title":"پزشکی خانواده-1B", "class":"column2 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "forth":{ "id":"103", "title":"پزشکی خانواده-2A", "class":"column3 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "fifth":{ "id":"104", "title":"پزشکی خانواده-2B", "class":"column4 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "sixth":{ "id":"105", "title":"جراحی-3A", "class":"column5 style12 s style12", "rowspan":"4", "content":"جراحی" }, "seventh":{ "id":"106", "title":"جراحی-3B", "class":"column6 style12 s style12", "rowspan":"4", "content":"جراحی" }, "eighth":{ "id":"107", "title":"جراحی-4A", "class":"column7 style12 s style12", "rowspan":"4", "content":"جراحی" }, "nineth":{ "id":"108", "title":"جراحی-4B", "class":"column8 style12 s style12", "rowspan":"4", "content":"جراحی" }, "tenth":{ "id":"109", "title":"زنان-5A", "class":"column9 style10 s style10", "rowspan":"2", "content":"زنان" }, "eleventh":{ "id":"110", "title":"زنان-5B", "class":"column10 style10 s style10", "rowspan":"2", "content":"زنان" }, "twelveth":{ "id":"111", "title":"اورژانس-6A", "class":"column11 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "thirteenth":{ "id":"112", "title":"اورژانس-6B", "class":"column12 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "fourteenth":{ "id":"113", "title":"عفونی-10A", "class":"column19 style17 s style17", "rowspan":"2", "content":"عفونی" }, "fifteenth":{ "id":"114", "title":"عفونی-10B", "class":"column20 style17 s style17", "rowspan":"2", "content":"عفونی" }, "sixteenth":{ "id":"115", "title":"الکتیو-اول-11A", "class":"column21 style4 s", "content":"الکتیو-اول" }, "seventeenth":{ "id":"116", "title":"الکتیو-اول-11B", "class":"column22 style4 s", "content":"الکتیو-اول" }, "eighteenth":{ "id":"117", "title":"بهداشت-12A", "class":"column23 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "nineteenth":{ "id":"118", "title":"بهداشت-12B", "class":"column24 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twentieth":{ "id":"119", "title":"الکتیو-اول-16A", "class":"column31 style4 s", "content":"الکتیو-اول" }, "twentyfirst":{ "id":"120", "title":"ارتوپدی-16B", "class":"column32 style5 s", "content":"ارتوپدی" }, "twentysecond":{ "id":"121", "title":"قلب-17A", "class":"column33 style6 s", "content":"قلب" }, "twentythird":{ "id":"122", "title":"پوست-17B", "class":"column34 style7 s", "content":"پوست" }, "twentyfourth":{ "id":"123", "title":"روان-18A", "class":"column35 style14 s style14", "rowspan":"2", "content":"روان" }, "twentyfifth":{ "id":"124", "title":"روان-18B", "class":"column36 style14 s style14", "rowspan":"2", "content":"روان" } }, { "id":7, "class":"row6", "first":{ "id":"125", "title":"الکتیو-دوم-11A", "class":"column21 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"126", "title":"الکتیو-دوم-11B", "class":"column22 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"127", "title":"ارتوپدی-16A", "class":"column31 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"128", "title":"الکتیو-اول-16B", "class":"column32 style4 s", "content":"الکتیو-اول" }, "fifth":{ "id":"129", "title":"پوست-17A", "class":"column33 style7 s", "content":"پوست" }, "sixth":{ "id":"130", "title":"قلب-17B", "class":"column34 style6 s", "content":"قلب" } }, { "id":8, "class":"row7", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه جهارم" }, "second":{ "id":"131", "title":"اورژانس-5A", "class":"column9 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "third":{ "id":"132", "title":"اورژانس-5B", "class":"column10 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "forth":{ "id":"133", "title":"زنان-6A", "class":"column11 style10 s style10", "rowspan":"2", "content":"زنان" }, "fifth":{ "id":"134", "title":"زنان-6B", "class":"column12 style10 s style10", "rowspan":"2", "content":"زنان" }, "sixth":{ "id":"135", "title":"بهداشت-7A", "class":"column13 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "seventh":{ "id":"136", "title":"بهداشت-7B", "class":"column14 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "eighth":{ "id":"137", "title":"عفونی-8A", "class":"column15 style17 s style17", "rowspan":"2", "content":"عفونی" }, "nineth":{ "id":"138", "title":"عفونی-8B", "class":"column16 style17 s style17", "rowspan":"2", "content":"عفونی" }, "tenth":{ "id":"139", "title":"الکتیو-اول-9A", "class":"column17 style4 s", "content":"الکتیو-اول" }, "eleventh":{ "id":"140", "title":"الکتیو-اول-9B", "class":"column18 style4 s", "content":"الکتیو-اول" }, "twelveth":{ "id":"141", "title":"داخلی-10A", "class":"column19 style18 s style18", "rowspan":"6", "content":"داخلی" }, "thirteenth":{ "id":"142", "title":"داخلی-10B", "class":"column20 style18 s style18", "rowspan":"6", "content":"داخلی" }, "fourteenth":{ "id":"143", "title":"داخلی-11A", "class":"column21 style18 s style18", "rowspan":"6", "content":"داخلی" }, "fifteenth":{ "id":"144", "title":"داخلی-11B", "class":"column22 style18 s style18", "rowspan":"6", "content":"داخلی" }, "sixteenth":{ "id":"145", "title":"داخلی-12A", "class":"column23 style18 s style18", "rowspan":"6", "content":"داخلی" }, "seventeenth":{ "id":"146", "title":"داخلی-12B", "class":"column24 style18 s style18", "rowspan":"6", "content":"داخلی" }, "eighteenth":{ "id":"147", "title":"روان-13A", "class":"column25 style14 s style14", "rowspan":"2", "content":"روان" }, "nineteenth":{ "id":"148", "title":"روان-13B", "class":"column26 style14 s style14", "rowspan":"2", "content":"روان" }, "twentieth":{ "id":"149", "title":"الکتیو-اول-14A", "class":"column27 style4 s", "content":"الکتیو-اول" }, "twentyfirst":{ "id":"150", "title":"ارتوپدی-14B", "class":"column28 style5 s", "content":"ارتوپدی" }, "twentysecond":{ "id":"151", "title":"قلب-15A", "class":"column29 style6 s", "content":"قلب" }, "twentythird":{ "id":"152", "title":"پوست-15B", "class":"column30 style7 s", "content":"پوست" }, "twentyfourth":{ "id":"153", "title":"کودکان-16A", "class":"column31 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyfifth":{ "id":"154", "title":"کودکان-16B", "class":"column32 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentysixth":{ "id":"155", "title":"کودکان-17A", "class":"column33 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyseventh":{ "id":"156", "title":"کودکان-17B", "class":"column34 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyeighth":{ "id":"157", "title":"کودکان-18A", "class":"column35 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyninth":{ "id":"158", "title":"کودکان-18B", "class":"column36 style13 s style13", "rowspan":"6", "content":"کودکان" } }, { "id":9, "class":"row8", "first":{ "id":"159", "title":"الکتیو-دوم-9A", "class":"column17 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"160", "title":"الکتیو-دوم-9B", "class":"column18 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"161", "title":"ارتوپدی-14A", "class":"column27 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"162", "title":"الکتیو-اول-14B", "class":"column28 style4 s", "content":"الکتیو-اول" }, "fifth":{ "id":"163", "title":"پوست-15A", "class":"column29 style7 s", "content":"پوست" }, "sixth":{ "id":"164", "title":"قلب-15B", "class":"column30 style6 s", "content":"قلب" } }, { "id":10, "class":"row9", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه پنجم" }, "second":{ "id":"165", "title":"زنان-1A", "class":"column1 style10 s style10", "rowspan":"2", "content":"زنان" }, "third":{ "id":"166", "title":"زنان-1B", "class":"column2 style10 s style10", "rowspan":"2", "content":"زنان" }, "forth":{ "id":"167", "title":"اورژانس-2A", "class":"column3 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "fifth":{ "id":"168", "title":"اورژانس-2B", "class":"column4 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "sixth":{ "id":"169", "title":"پزشکی خانواده-3A", "class":"column5 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "seventh":{ "id":"170", "title":"پزشکی خانواده-3B", "class":"column6 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "eighth":{ "id":"171", "title":"پزشکی خانواده-4A", "class":"column7 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "nineth":{ "id":"172", "title":"پزشکی خانواده-4B", "class":"column8 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "tenth":{ "id":"173", "title":"جراحی-5A", "class":"column9 style12 s style12", "rowspan":"4", "content":"جراحی" }, "eleventh":{ "id":"174", "title":"جراحی-5B", "class":"column10 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twelveth":{ "id":"175", "title":"جراحی-6A", "class":"column11 style12 s style12", "rowspan":"4", "content":"جراحی" }, "thirteenth":{ "id":"176", "title":"جراحی-6B", "class":"column12 style12 s style12", "rowspan":"4", "content":"جراحی" }, "fourteenth":{ "id":"177", "title":"الکتیو-اول-7A", "class":"column13 style4 s", "content":"الکتیو-اول" }, "fifteenth":{ "id":"178", "title":"الکتیو-اول-7B", "class":"column14 style4 s", "content":"الکتیو-اول" }, "sixteenth":{ "id":"179", "title":"بهداشت-8A", "class":"column15 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "seventeenth":{ "id":"180", "title":"بهداشت-8B", "class":"column16 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "eighteenth":{ "id":"181", "title":"عفونی-9A", "class":"column17 style17 s style17", "rowspan":"2", "content":"عفونی" }, "nineteenth":{ "id":"182", "title":"عفونی-9B", "class":"column18 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentieth":{ "id":"183", "title":"قلب-13A", "class":"column25 style6 s", "content":"قلب" }, "twentyfirst":{ "id":"184", "title":"پوست-13B", "class":"column26 style7 s", "content":"پوست" }, "twentysecond":{ "id":"185", "title":"روان-14A", "class":"column27 style14 s style14", "rowspan":"2", "content":"روان" }, "twentythird":{ "id":"186", "title":"روان-14B", "class":"column28 style14 s style14", "rowspan":"2", "content":"روان" }, "twentyfourth":{ "id":"187", "title":"الکتیو-اول-15A", "class":"column29 style4 s", "content":"الکتیو-اول" }, "twentyfifth":{ "id":"188", "title":"ارتوپدی-15B", "class":"column30 style5 s", "content":"ارتوپدی" } }, { "id":11, "class":"row10", "first":{ "id":"189", "title":"الکتیو-دوم-7A", "class":"column13 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"190", "title":"الکتیو-دوم-7B", "class":"column14 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"191", "title":"پوست-13A", "class":"column25 style7 s", "content":"پوست" }, "forth":{ "id":"192", "title":"قلب-13B", "class":"column26 style6 s", "content":"قلب" }, "fifth":{ "id":"193", "title":"ارتوپدی-15A", "class":"column29 style5 s", "content":"ارتوپدی" }, "sixth":{ "id":"194", "title":"الکتیو-اول-15B", "class":"column30 style4 s", "content":"الکتیو-اول" } }, { "id":12, "class":"row11", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه ششم" }, "second":{ "id":"195", "title":"اورژانس-1A", "class":"column1 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "third":{ "id":"196", "title":"اورژانس-1B", "class":"column2 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "forth":{ "id":"197", "title":"زنان-2A", "class":"column3 style10 s style10", "rowspan":"2", "content":"زنان" }, "fifth":{ "id":"198", "title":"زنان-2B", "class":"column4 style10 s style10", "rowspan":"2", "content":"زنان" }, "sixth":{ "id":"199", "title":"عفونی-7A", "class":"column13 style17 s style17", "rowspan":"2", "content":"عفونی" }, "seventh":{ "id":"200", "title":"عفونی-7B", "class":"column14 style17 s style17", "rowspan":"2", "content":"عفونی" }, "eighth":{ "id":"201", "title":"الکتیو-اول-8A", "class":"column15 style4 s", "content":"الکتیو-اول" }, "nineth":{ "id":"202", "title":"الکتیو-اول-8B", "class":"column16 style4 s", "content":"الکتیو-اول" }, "tenth":{ "id":"203", "title":"بهداشت-9A", "class":"column17 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "eleventh":{ "id":"204", "title":"بهداشت-9B", "class":"column18 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twelveth":{ "id":"205", "title":"الکتیو-اول-13A", "class":"column25 style4 s", "content":"الکتیو-اول" }, "thirteenth":{ "id":"206", "title":"ارتوپدی-13B", "class":"column26 style5 s", "content":"ارتوپدی" }, "fourteenth":{ "id":"207", "title":"قلب-14A", "class":"column27 style6 s", "content":"قلب" }, "fifteenth":{ "id":"208", "title":"پوست-14B", "class":"column28 style7 s", "content":"پوست" }, "sixteenth":{ "id":"209", "title":"روان-15A", "class":"column29 style14 s style14", "rowspan":"2", "content":"روان" }, "seventeenth":{ "id":"210", "title":"روان-15B", "class":"column30 style14 s style14", "rowspan":"2", "content":"روان" } }, { "id":13, "class":"row12", "first":{ "id":"211", "title":"الکتیو-دوم-8A", "class":"column15 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"212", "title":"الکتیو-دوم-8B", "class":"column16 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"213", "title":"ارتوپدی-13A", "class":"column25 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"214", "title":"الکتیو-اول-13B", "class":"column26 style4 s", "content":"الکتیو-اول" }, "fifth":{ "id":"215", "title":"پوست-14A", "class":"column27 style7 s", "content":"پوست" }, "sixth":{ "id":"216", "title":"قلب-14B", "class":"column28 style6 s", "content":"قلب" } }, { "id":14, "class":"row13", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه هفتم" }, "second":{ "id":"217", "title":"داخلی-1A", "class":"column1 style18 s style18", "rowspan":"6", "content":"داخلی" }, "third":{ "id":"218", "title":"داخلی-1B", "class":"column2 style18 s style18", "rowspan":"6", "content":"داخلی" }, "forth":{ "id":"219", "title":"داخلی-2A", "class":"column3 style18 s style18", "rowspan":"6", "content":"داخلی" }, "fifth":{ "id":"220", "title":"داخلی-2B", "class":"column4 style18 s style18", "rowspan":"6", "content":"داخلی" }, "sixth":{ "id":"221", "title":"داخلی-3A", "class":"column5 style18 s style18", "rowspan":"6", "content":"داخلی" }, "seventh":{ "id":"222", "title":"داخلی-3B", "class":"column6 style18 s style18", "rowspan":"6", "content":"داخلی" }, "eighth":{ "id":"223", "title":"بهداشت-4A", "class":"column7 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "nineth":{ "id":"224", "title":"بهداشت-4B", "class":"column8 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "tenth":{ "id":"225", "title":"عفونی-5A", "class":"column9 style17 s style17", "rowspan":"2", "content":"عفونی" }, "eleventh":{ "id":"226", "title":"عفونی-5B", "class":"column10 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twelveth":{ "id":"227", "title":"الکتیو-اول-6A", "class":"column11 style4 s", "content":"الکتیو-اول" }, "thirteenth":{ "id":"228", "title":"الکتیو-اول-6B", "class":"column12 style4 s", "content":"الکتیو-اول" }, "fourteenth":{ "id":"229", "title":"کودکان-7A", "class":"column13 style13 s style13", "rowspan":"6", "content":"کودکان" }, "fifteenth":{ "id":"230", "title":"کودکان-7B", "class":"column14 style13 s style13", "rowspan":"6", "content":"کودکان" }, "sixteenth":{ "id":"231", "title":"کودکان-8A", "class":"column15 style13 s style13", "rowspan":"6", "content":"کودکان" }, "seventeenth":{ "id":"232", "title":"کودکان-8B", "class":"column16 style13 s style13", "rowspan":"6", "content":"کودکان" }, "eighteenth":{ "id":"233", "title":"کودکان-9A", "class":"column17 style13 s style13", "rowspan":"6", "content":"کودکان" }, "nineteenth":{ "id":"234", "title":"کودکان-9B", "class":"column18 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentieth":{ "id":"235", "title":"روان-10A", "class":"column19 style14 s style14", "rowspan":"2", "content":"روان" }, "twentyfirst":{ "id":"236", "title":"روان-10B", "class":"column20 style14 s style14", "rowspan":"2", "content":"روان" }, "twentysecond":{ "id":"237", "title":"الکتیو-سوم-11A", "class":"column21 style4 s", "content":"الکتیو-سوم" }, "twentythird":{ "id":"238", "title":"ارتوپدی-11B", "class":"column22 style5 s", "content":"ارتوپدی" }, "twentyfourth":{ "id":"239", "title":"قلب-12A", "class":"column23 style6 s", "content":"قلب" }, "twentyfifth":{ "id":"240", "title":"پوست-12B", "class":"column24 style7 s", "content":"پوست" }, "twentysixth":{ "id":"241", "title":"جراحی-13A", "class":"column25 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentyseventh":{ "id":"242", "title":"جراحی-13B", "class":"column26 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentyeighth":{ "id":"243", "title":"جراحی-14A", "class":"column27 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentyninth":{ "id":"244", "title":"جراحی-14B", "class":"column28 style12 s style12", "rowspan":"4", "content":"جراحی" }, "thirtieth":{ "id":"245", "title":"زنان-15A", "class":"column29 style10 s style10", "rowspan":"2", "content":"زنان" }, "thirtyfirst":{ "id":"246", "title":"زنان-15B", "class":"column30 style10 s style10", "rowspan":"2", "content":"زنان" }, "thirtysecond":{ "id":"247", "title":"اورژانس-16A", "class":"column31 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "thirtythird":{ "id":"248", "title":"اورژانس-16B", "class":"column32 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "thirtyfourth":{ "id":"249", "title":"پزشکی خانواده-17A", "class":"column33 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "thirtyfifth":{ "id":"250", "title":"پزشکی خانواده-17B", "class":"column34 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "thirtysixth":{ "id":"251", "title":"پزشکی خانواده-18A", "class":"column35 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "thirtyseventh":{ "id":"252", "title":"پزشکی خانواده-18B", "class":"column36 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" } }, { "id":15, "class":"row14", "first":{ "id":"253", "title":"الکتیو-دوم-6A", "class":"column11 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"254", "title":"الکتیو-دوم-6B", "class":"column12 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"255", "title":"ارتوپدی-11A", "class":"column21 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"256", "title":"الکتیو-سوم-11B", "class":"column22 style4 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"257", "title":"پوست-12A", "class":"column23 style7 s", "content":"پوست" }, "sixth":{ "id":"258", "title":"قلب-12B", "class":"column24 style6 s", "content":"قلب" } }, { "id":16, "class":"row15", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه هشتم" }, "second":{ "id":"259", "title":"الکتیو-اول-4A", "class":"column7 style4 s", "content":"الکتیو-اول" }, "third":{ "id":"260", "title":"الکتیو-اول-4B", "class":"column8 style4 s", "content":"الکتیو-اول" }, "forth":{ "id":"261", "title":"بهداشت-5A", "class":"column9 style19 s style20", "rowspan":"2", "content":"بهداشت" }, "fifth":{ "id":"262", "title":"بهداشت-5B", "class":"column10 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "sixth":{ "id":"263", "title":"عفونی-6A", "class":"column11 style17 s style17", "rowspan":"2", "content":"عفونی" }, "seventh":{ "id":"264", "title":"عفونی-6B", "class":"column12 style17 s style17", "rowspan":"2", "content":"عفونی" }, "eighth":{ "id":"265", "title":"قلب-10A", "class":"column19 style6 s", "content":"قلب" }, "nineth":{ "id":"266", "title":"پوست-10B", "class":"column20 style7 s", "content":"پوست" }, "tenth":{ "id":"267", "title":"روان-11A", "class":"column21 style14 s style14", "rowspan":"2", "content":"روان" }, "eleventh":{ "id":"268", "title":"روان-11B", "class":"column22 style14 s style14", "rowspan":"2", "content":"روان" }, "twelveth":{ "id":"269", "title":"الکتیو-سوم-12A", "class":"column23 style4 s", "content":"الکتیو-سوم" }, "thirteenth":{ "id":"270", "title":"ارتوپدی-12B", "class":"column24 style5 s", "content":"ارتوپدی" }, "fourteenth":{ "id":"271", "title":"اورژانس-15A", "class":"column29 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "fifteenth":{ "id":"272", "title":"اورژانس-15B", "class":"column30 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "sixteenth":{ "id":"273", "title":"زنان-16A", "class":"column31 style10 s style10", "rowspan":"2", "content":"زنان" }, "seventeenth":{ "id":"274", "title":"زنان-16B", "class":"column32 style10 s style10", "rowspan":"2", "content":"زنان" } }, { "id":17, "class":"row16", "first":{ "id":"275", "title":"الکتیو-دوم-4A", "class":"column7 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"276", "title":"الکتیو-دوم-4B", "class":"column8 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"277", "title":"پوست-10A", "class":"column19 style7 s", "content":"پوست" }, "forth":{ "id":"278", "title":"قلب-10B", "class":"column20 style6 s", "content":"قلب" }, "fifth":{ "id":"279", "title":"ارتوپدی-12A", "class":"column23 style5 s", "content":"ارتوپدی" }, "sixth":{ "id":"280", "title":"الکتیو-سوم-12B", "class":"column24 style4 s", "content":"الکتیو-سوم" } }, { "id":18, "class":"row17", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه نهم" }, "second":{ "id":"281", "title":"عفونی-4A", "class":"column7 style17 s style17", "rowspan":"2", "content":"عفونی" }, "third":{ "id":"282", "title":"عفونی-4B", "class":"column8 style17 s style17", "rowspan":"2", "content":"عفونی" }, "forth":{ "id":"283", "title":"الکتیو-اول-5A", "class":"column9 style4 s", "content":"الکتیو-اول" }, "fifth":{ "id":"284", "title":"الکتیو-اول-5B", "class":"column10 style4 s", "content":"الکتیو-اول" }, "sixth":{ "id":"285", "title":"بهداشت-6A", "class":"column11 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "seventh":{ "id":"286", "title":"بهداشت-6B", "class":"column12 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "eighth":{ "id":"287", "title":"الکتیو-سوم-10A", "class":"column19 style4 s", "content":"الکتیو-سوم" }, "nineth":{ "id":"288", "title":"ارتوپدی-10B", "class":"column20 style5 s", "content":"ارتوپدی" }, "tenth":{ "id":"289", "title":"قلب-11A", "class":"column21 style6 s", "content":"قلب" }, "eleventh":{ "id":"290", "title":"پوست-11B", "class":"column22 style7 s", "content":"پوست" }, "twelveth":{ "id":"291", "title":"روان-12A", "class":"column23 style14 s style14", "rowspan":"2", "content":"روان" }, "thirteenth":{ "id":"292", "title":"روان-12B", "class":"column24 style14 s style14", "rowspan":"2", "content":"روان" }, "fourteenth":{ "id":"293", "title":"پزشکی خانواده-13A", "class":"column25 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "fifteenth":{ "id":"294", "title":"پزشکی خانواده-13B", "class":"column26 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "sixteenth":{ "id":"295", "title":"پزشکی خانواده-14A", "class":"column27 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "seventeenth":{ "id":"296", "title":"پزشکی خانواده-14B", "class":"column28 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "eighteenth":{ "id":"297", "title":"جراحی-15A", "class":"column29 style12 s style12", "rowspan":"4", "content":"جراحی" }, "nineteenth":{ "id":"298", "title":"جراحی-15B", "class":"column30 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentieth":{ "id":"299", "title":"جراحی-16A", "class":"column31 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentyfirst":{ "id":"300", "title":"جراحی-16B", "class":"column32 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentysecond":{ "id":"301", "title":"زنان-17A", "class":"column33 style10 s style10", "rowspan":"2", "content":"زنان" }, "twentythird":{ "id":"302", "title":"زنان-17B", "class":"column34 style10 s style10", "rowspan":"2", "content":"زنان" }, "twentyfourth":{ "id":"303", "title":"اورژانس-18A", "class":"column35 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "twentyfifth":{ "id":"304", "title":"اورژانس-18B", "class":"column36 style11 s style11", "rowspan":"2", "content":"اورژانس" } }, { "id":19, "class":"row18", "first":{ "id":"305", "title":"الکتیو-دوم-5A", "class":"column9 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"306", "title":"الکتیو-دوم-5B", "class":"column10 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"307", "title":"ارتوپدی-10A", "class":"column19 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"308", "title":"الکتیو-سوم-10B", "class":"column20 style4 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"309", "title":"پوست-11A", "class":"column21 style7 s", "content":"پوست" }, "sixth":{ "id":"310", "title":"قلب-11B", "class":"column22 style6 s", "content":"قلب" } }, { "id":20, "class":"row19", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه دهم" }, "second":{ "id":"311", "title":"بهداشت-1A", "class":"column1 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "third":{ "id":"312", "title":"بهداشت-1B", "class":"column2 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "forth":{ "id":"313", "title":"عفونی-2A", "class":"column3 style17 s style17", "rowspan":"2", "content":"عفونی" }, "fifth":{ "id":"314", "title":"عفونی-2B", "class":"column4 style17 s style17", "rowspan":"2", "content":"عفونی" }, "sixth":{ "id":"315", "title":"الکتیو-اول-3A", "class":"column5 style4 s", "content":"الکتیو-اول" }, "seventh":{ "id":"316", "title":"الکتیو-اول-3B", "class":"column6 style4 s", "content":"الکتیو-اول" }, "eighth":{ "id":"317", "title":"داخلی-4A", "class":"column7 style18 s style18", "rowspan":"6", "content":"داخلی" }, "nineth":{ "id":"318", "title":"داخلی-4B", "class":"column8 style18 s style18", "rowspan":"6", "content":"داخلی" }, "tenth":{ "id":"319", "title":"داخلی-5A", "class":"column9 style18 s style18", "rowspan":"6", "content":"داخلی" }, "eleventh":{ "id":"320", "title":"داخلی-5B", "class":"column10 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twelveth":{ "id":"321", "title":"داخلی-6A", "class":"column11 style18 s style18", "rowspan":"6", "content":"داخلی" }, "thirteenth":{ "id":"322", "title":"داخلی-6B", "class":"column12 style18 s style18", "rowspan":"6", "content":"داخلی" }, "fourteenth":{ "id":"323", "title":"روان-7A", "class":"column13 style14 s style14", "rowspan":"2", "content":"روان" }, "fifteenth":{ "id":"324", "title":"روان-7B", "class":"column14 style14 s style14", "rowspan":"2", "content":"روان" }, "sixteenth":{ "id":"325", "title":"الکتیو-سوم-8A", "class":"column15 style4 s", "content":"الکتیو-سوم" }, "seventeenth":{ "id":"326", "title":"ارتوپدی-8B", "class":"column16 style5 s", "content":"ارتوپدی" }, "eighteenth":{ "id":"327", "title":"قلب-9A", "class":"column17 style6 s", "content":"قلب" }, "nineteenth":{ "id":"328", "title":"پوست-9B", "class":"column18 style7 s", "content":"پوست" }, "twentieth":{ "id":"329", "title":"کودکان-10A", "class":"column19 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyfirst":{ "id":"330", "title":"کودکان-10B", "class":"column20 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentysecond":{ "id":"331", "title":"کودکان-11A", "class":"column21 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentythird":{ "id":"332", "title":"کودکان-11B", "class":"column22 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyfourth":{ "id":"333", "title":"کودکان-12A", "class":"column23 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentyfifth":{ "id":"334", "title":"کودکان-12B", "class":"column24 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twentysixth":{ "id":"335", "title":"اورژانس-17A", "class":"column33 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "twentyseventh":{ "id":"336", "title":"اورژانس-17B", "class":"column34 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "twentyeighth":{ "id":"337", "title":"زنان-18A", "class":"column35 style10 s style10", "rowspan":"2", "content":"زنان" }, "twentyninth":{ "id":"338", "title":"زنان-18B", "class":"column36 style10 s style10", "rowspan":"2", "content":"زنان" } }, { "id":21, "class":"row20", "first":{ "id":"339", "title":"الکتیو-دوم-3A", "class":"column5 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"340", "title":"الکتیو-دوم-3B", "class":"column6 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"341", "title":"ارتوپدی-8A", "class":"column15 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"342", "title":"الکتیو-سوم-8B", "class":"column16 style4 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"343", "title":"پوست-9A", "class":"column17 style7 s", "content":"پوست" }, "sixth":{ "id":"344", "title":"قلب-9B", "class":"column18 style6 s", "content":"قلب" } }, { "id":22, "class":"row21", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه یازدهم" }, "second":{ "id":"345", "title":"الکتیو-اول-1A", "class":"column1 style4 s", "content":"الکتیو-اول" }, "third":{ "id":"346", "title":"الکتیو-اول-1B", "class":"column2 style4 s", "content":"الکتیو-اول" }, "forth":{ "id":"347", "title":"بهداشت-2A", "class":"column3 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "fifth":{ "id":"348", "title":"بهداشت-2B", "class":"column4 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "sixth":{ "id":"349", "title":"عفونی-3A", "class":"column5 style17 s style17", "rowspan":"2", "content":"عفونی" }, "seventh":{ "id":"350", "title":"عفونی-3B", "class":"column6 style17 s style17", "rowspan":"2", "content":"عفونی" }, "eighth":{ "id":"351", "title":"قلب-7A", "class":"column13 style6 s", "content":"قلب" }, "nineth":{ "id":"352", "title":"پوست-7B", "class":"column14 style7 s", "content":"پوست" }, "tenth":{ "id":"353", "title":"روان-8A", "class":"column15 style14 s style14", "rowspan":"2", "content":"روان" }, "eleventh":{ "id":"354", "title":"روان-8B", "class":"column16 style14 s style14", "rowspan":"2", "content":"روان" }, "twelveth":{ "id":"355", "title":"الکتیو-سوم-9A", "class":"column17 style4 s", "content":"الکتیو-سوم" }, "thirteenth":{ "id":"356", "title":"ارتوپدی-9B", "class":"column18 style5 s", "content":"ارتوپدی" }, "fourteenth":{ "id":"357", "title":"زنان-13A", "class":"column25 style10 s style10", "rowspan":"2", "content":"زنان" }, "fifteenth":{ "id":"358", "title":"زنان-13B", "class":"column26 style10 s style10", "rowspan":"2", "content":"زنان" }, "sixteenth":{ "id":"359", "title":"اورژانس-14A", "class":"column27 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "seventeenth":{ "id":"360", "title":"اورژانس-14B", "class":"column28 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "eighteenth":{ "id":"361", "title":"پزشکی خانواده-15A", "class":"column29 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "nineteenth":{ "id":"362", "title":"پزشکی خانواده-15B", "class":"column30 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twentieth":{ "id":"363", "title":"پزشکی خانواده-16A", "class":"column31 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twentyfirst":{ "id":"364", "title":"پزشکی خانواده-16B", "class":"column32 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twentysecond":{ "id":"365", "title":"جراحی-17A", "class":"column33 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentythird":{ "id":"366", "title":"جراحی-17B", "class":"column34 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentyfourth":{ "id":"367", "title":"جراحی-18A", "class":"column35 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentyfifth":{ "id":"368", "title":"جراحی-18B", "class":"column36 style12 s style12", "rowspan":"4", "content":"جراحی" } }, { "id":23, "class":"row22", "first":{ "id":"369", "title":"الکتیو-دوم-1A", "class":"column1 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"370", "title":"الکتیو-دوم-1B", "class":"column2 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"371", "title":"پوست-7A", "class":"column13 style7 s", "content":"پوست" }, "forth":{ "id":"372", "title":"قلب-7B", "class":"column14 style6 s", "content":"قلب" }, "fifth":{ "id":"373", "title":"ارتوپدی-9A", "class":"column17 style5 s", "content":"ارتوپدی" }, "sixth":{ "id":"374", "title":"الکتیو-سوم-9B", "class":"column18 style4 s", "content":"الکتیو-سوم" } }, { "id":24, "class":"row23", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه دوازدهم" }, "second":{ "id":"375", "title":"عفونی-1A", "class":"column1 style17 s style17", "rowspan":"2", "content":"عفونی" }, "third":{ "id":"376", "title":"عفونی-1B", "class":"column2 style17 s style17", "rowspan":"2", "content":"عفونی" }, "forth":{ "id":"377", "title":"الکتیو-اول-2A", "class":"column3 style4 s", "content":"الکتیو-اول" }, "fifth":{ "id":"378", "title":"الکتیو-اول-2B", "class":"column4 style4 s", "content":"الکتیو-اول" }, "sixth":{ "id":"379", "title":"بهداشت-3A", "class":"column5 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "seventh":{ "id":"380", "title":"بهداشت-3B", "class":"column6 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "eighth":{ "id":"381", "title":"الکتیو-سوم-7A", "class":"column13 style4 s", "content":"الکتیو-سوم" }, "nineth":{ "id":"382", "title":"ارتوپدی-7B", "class":"column14 style5 s", "content":"ارتوپدی" }, "tenth":{ "id":"383", "title":"قلب-8A", "class":"column15 style6 s", "content":"قلب" }, "eleventh":{ "id":"384", "title":"پوست-8B", "class":"column16 style7 s", "content":"پوست" }, "twelveth":{ "id":"385", "title":"روان-9A", "class":"column17 style14 s style14", "rowspan":"2", "content":"روان" }, "thirteenth":{ "id":"386", "title":"روان-9B", "class":"column18 style14 s style14", "rowspan":"2", "content":"روان" }, "fourteenth":{ "id":"387", "title":"اورژانس-13A", "class":"column25 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "fifteenth":{ "id":"388", "title":"اورژانس-13B", "class":"column26 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "sixteenth":{ "id":"389", "title":"زنان-14A", "class":"column27 style10 s style10", "rowspan":"2", "content":"زنان" }, "seventeenth":{ "id":"390", "title":"زنان-14B", "class":"column28 style10 s style10", "rowspan":"2", "content":"زنان" } }, { "id":25, "class":"row24", "first":{ "id":"391", "title":"الکتیو-دوم-2A", "class":"column3 style4 s", "content":"الکتیو-دوم" }, "second":{ "id":"392", "title":"الکتیو-دوم-2B", "class":"column4 style4 s", "content":"الکتیو-دوم" }, "third":{ "id":"393", "title":"ارتوپدی-7A", "class":"column13 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"394", "title":"الکتیو-سوم-7B", "class":"column14 style4 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"395", "title":"پوست-8A", "class":"column15 style7 s", "content":"پوست" }, "sixth":{ "id":"396", "title":"قلب-8B", "class":"column16 style6 s", "content":"قلب" } }, { "id":26, "class":"row25", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه سیزدهم" }, "second":{ "id":"397", "title":"کودکان-1A", "class":"column1 style13 s style13", "rowspan":"6", "content":"کودکان" }, "third":{ "id":"398", "title":"کودکان-1B", "class":"column2 style13 s style13", "rowspan":"6", "content":"کودکان" }, "forth":{ "id":"399", "title":"کودکان-2A", "class":"column3 style13 s style13", "rowspan":"6", "content":"کودکان" }, "fifth":{ "id":"400", "title":"کودکان-2B", "class":"column4 style13 s style13", "rowspan":"6", "content":"کودکان" }, "sixth":{ "id":"401", "title":"کودکان-3A", "class":"column5 style13 s style13", "rowspan":"6", "content":"کودکان" }, "seventh":{ "id":"402", "title":"کودکان-3B", "class":"column6 style13 s style13", "rowspan":"6", "content":"کودکان" }, "eighth":{ "id":"403", "title":"روان-4A", "class":"column7 style14 s style14", "rowspan":"2", "content":"روان" }, "nineth":{ "id":"404", "title":"روان-4B", "class":"column8 style14 s style14", "rowspan":"2", "content":"روان" }, "tenth":{ "id":"405", "title":"الکتیو-سوم-5A", "class":"column9 style4 s", "content":"الکتیو-سوم" }, "eleventh":{ "id":"406", "title":"ارتوپدی-5B", "class":"column10 style5 s", "content":"ارتوپدی" }, "twelveth":{ "id":"407", "title":"قلب-6A", "class":"column11 style6 s", "content":"قلب" }, "thirteenth":{ "id":"408", "title":"پوست-6B", "class":"column12 style7 s", "content":"پوست" }, "fourteenth":{ "id":"409", "title":"جراحی-7A", "class":"column13 style12 s style12", "rowspan":"4", "content":"جراحی" }, "fifteenth":{ "id":"410", "title":"جراحی-7B", "class":"column14 style12 s style12", "rowspan":"4", "content":"جراحی" }, "sixteenth":{ "id":"411", "title":"جراحی-8A", "class":"column15 style12 s style12", "rowspan":"4", "content":"جراحی" }, "seventeenth":{ "id":"412", "title":"جراحی-8B", "class":"column16 style12 s style12", "rowspan":"4", "content":"جراحی" }, "eighteenth":{ "id":"413", "title":"زنان-9A", "class":"column17 style10 s style10", "rowspan":"2", "content":"زنان" }, "nineteenth":{ "id":"414", "title":"زنان-9B", "class":"column18 style10 s style10", "rowspan":"2", "content":"زنان" }, "twentieth":{ "id":"415", "title":"اورژانس-10A", "class":"column19 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "twentyfirst":{ "id":"416", "title":"اورژانس-10B", "class":"column20 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "twentysecond":{ "id":"417", "title":"پزشکی خانواده-11A", "class":"column21 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twentythird":{ "id":"418", "title":"پزشکی خانواده-11B", "class":"column22 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twentyfourth":{ "id":"419", "title":"پزشکی خانواده-12A", "class":"column23 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twentyfifth":{ "id":"420", "title":"پزشکی خانواده-12B", "class":"column24 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twentysixth":{ "id":"421", "title":"داخلی-13A", "class":"column25 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentyseventh":{ "id":"422", "title":"داخلی-13B", "class":"column26 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentyeighth":{ "id":"423", "title":"داخلی-14A", "class":"column27 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentyninth":{ "id":"424", "title":"داخلی-14B", "class":"column28 style18 s style18", "rowspan":"6", "content":"داخلی" }, "thirtieth":{ "id":"425", "title":"داخلی-15A", "class":"column29 style18 s style18", "rowspan":"6", "content":"داخلی" }, "thirtyfirst":{ "id":"426", "title":"داخلی-15B", "class":"column30 style18 s style18", "rowspan":"6", "content":"داخلی" }, "thirtysecond":{ "id":"427", "title":"بهداشت-16A", "class":"column31 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "thirtythird":{ "id":"428", "title":"بهداشت-16B", "class":"column32 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "thirtyfourth":{ "id":"429", "title":"عفونی-17A", "class":"column33 style17 s style17", "rowspan":"2", "content":"عفونی" }, "thirtyfifth":{ "id":"430", "title":"عفونی-17B", "class":"column34 style17 s style17", "rowspan":"2", "content":"عفونی" }, "thirtysixth":{ "id":"431", "title":"الکتیو-دوم-18A", "class":"column35 style4 s", "content":"الکتیو-دوم" }, "thirtyseventh":{ "id":"432", "title":"الکتیو-دوم-18B", "class":"column36 style4 s", "content":"الکتیو-دوم" } }, { "id":27, "class":"row26", "first":{ "id":"433", "title":"ارتوپدی-5A", "class":"column9 style5 s", "content":"ارتوپدی" }, "second":{ "id":"434", "title":"الکتیو-سوم-5B", "class":"column10 style4 s", "content":"الکتیو-سوم" }, "third":{ "id":"435", "title":"پوست-6A", "class":"column11 style7 s", "content":"پوست" }, "forth":{ "id":"436", "title":"قلب-6B", "class":"column12 style6 s", "content":"قلب" }, "fifth":{ "id":"437", "title":"الکتیو-سوم-18A", "class":"column35 style4 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"438", "title":"الکتیو-سوم-18B", "class":"column36 style4 s", "content":"الکتیو-سوم" } }, { "id":28, "class":"row27", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه چهاردهم" }, "second":{ "id":"439", "title":"قلب-4A", "class":"column7 style6 s", "content":"قلب" }, "third":{ "id":"440", "title":"پوست-4B", "class":"column8 style7 s", "content":"پوست" }, "forth":{ "id":"441", "title":"روان-5A", "class":"column9 style14 s style14", "rowspan":"2", "content":"روان" }, "fifth":{ "id":"442", "title":"روان-5B", "class":"column10 style14 s style14", "rowspan":"2", "content":"روان" }, "sixth":{ "id":"443", "title":"الکتیو-سوم-6A", "class":"column11 style4 s", "content":"الکتیو-سوم" }, "seventh":{ "id":"444", "title":"ارتوپدی-6B", "class":"column12 style5 s", "content":"ارتوپدی" }, "eighth":{ "id":"445", "title":"اورژانس-9A", "class":"column17 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "nineth":{ "id":"446", "title":"اورژانس-9B", "class":"column18 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "tenth":{ "id":"447", "title":"زنان-10A", "class":"column19 style10 s style10", "rowspan":"2", "content":"زنان" }, "eleventh":{ "id":"448", "title":"زنان-10B", "class":"column20 style10 s style10", "rowspan":"2", "content":"زنان" }, "twelveth":{ "id":"449", "title":"الکتیو-دوم-16A", "class":"column31 style4 s", "content":"الکتیو-دوم" }, "thirteenth":{ "id":"450", "title":"الکتیو-دوم-16B", "class":"column32 style4 s", "content":"الکتیو-دوم" }, "fourteenth":{ "id":"451", "title":"بهداشت-17A", "class":"column33 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "fifteenth":{ "id":"452", "title":"بهداشت-17B", "class":"column34 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "sixteenth":{ "id":"453", "title":"عفونی-18A", "class":"column35 style17 s style17", "rowspan":"2", "content":"عفونی" }, "seventeenth":{ "id":"454", "title":"عفونی-18B", "class":"column36 style17 s style17", "rowspan":"2", "content":"عفونی" } }, { "id":29, "class":"row28", "first":{ "id":"455", "title":"پوست-4A", "class":"column7 style7 s", "content":"پوست" }, "second":{ "id":"456", "title":"قلب-4B", "class":"column8 style6 s", "content":"قلب" }, "third":{ "id":"457", "title":"ارتوپدی-6A", "class":"column11 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"458", "title":"الکتیو-سوم-6B", "class":"column12 style4 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"459", "title":"الکتیو-سوم-16A", "class":"column31 style4 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"460", "title":"الکتیو-سوم-16B", "class":"column32 style4 s", "content":"الکتیو-سوم" } }, { "id":30, "class":"row29", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه پانزدهم" }, "second":{ "id":"461", "title":"الکتیو-سوم-4A", "class":"column7 style4 s", "content":"الکتیو-سوم" }, "third":{ "id":"462", "title":"ارتوپدی-4B", "class":"column8 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"463", "title":"قلب-5A", "class":"column9 style6 s", "content":"قلب" }, "fifth":{ "id":"464", "title":"پوست-5B", "class":"column10 style7 s", "content":"پوست" }, "sixth":{ "id":"465", "title":"روان-6A", "class":"column11 style14 s style14", "rowspan":"2", "content":"روان" }, "seventh":{ "id":"466", "title":"روان-6B", "class":"column12 style14 s style14", "rowspan":"2", "content":"روان" }, "eighth":{ "id":"467", "title":"پزشکی خانواده-7A", "class":"column13 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "nineth":{ "id":"468", "title":"پزشکی خانواده-7B", "class":"column14 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "tenth":{ "id":"469", "title":"پزشکی خانواده-8A", "class":"column15 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "eleventh":{ "id":"470", "title":"پزشکی خانواده-8B", "class":"column16 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "twelveth":{ "id":"471", "title":"جراحی-9A", "class":"column17 style12 s style12", "rowspan":"4", "content":"جراحی" }, "thirteenth":{ "id":"472", "title":"جراحی-9B", "class":"column18 style12 s style12", "rowspan":"4", "content":"جراحی" }, "fourteenth":{ "id":"473", "title":"جراحی-10A", "class":"column19 style12 s style12", "rowspan":"4", "content":"جراحی" }, "fifteenth":{ "id":"474", "title":"جراحی-10B", "class":"column20 style12 s style12", "rowspan":"4", "content":"جراحی" }, "sixteenth":{ "id":"475", "title":"زنان-11A", "class":"column21 style10 s style10", "rowspan":"2", "content":"زنان" }, "seventeenth":{ "id":"476", "title":"زنان-11B", "class":"column22 style10 s style10", "rowspan":"2", "content":"زنان" }, "eighteenth":{ "id":"477", "title":"اورژانس-12A", "class":"column23 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "nineteenth":{ "id":"478", "title":"اورژانس-12B", "class":"column24 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "twentieth":{ "id":"479", "title":"عفونی-16A", "class":"column31 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentyfirst":{ "id":"480", "title":"عفونی-16B", "class":"column32 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentysecond":{ "id":"481", "title":"الکتیو-دوم-17A", "class":"column33 style4 s", "content":"الکتیو-دوم" }, "twentythird":{ "id":"482", "title":"الکتیو-دوم-17B", "class":"column34 style4 s", "content":"الکتیو-دوم" }, "twentyfourth":{ "id":"483", "title":"بهداشت-18A", "class":"column35 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twentyfifth":{ "id":"484", "title":"بهداشت-18B", "class":"column36 style16 s style16", "rowspan":"2", "content":"بهداشت" } }, { "id":31, "class":"row30", "first":{ "id":"485", "title":"ارتوپدی-4A", "class":"column7 style5 s", "content":"ارتوپدی" }, "second":{ "id":"486", "title":"الکتیو-سوم-4B", "class":"column8 style4 s", "content":"الکتیو-سوم" }, "third":{ "id":"487", "title":"پوست-5A", "class":"column9 style7 s", "content":"پوست" }, "forth":{ "id":"488", "title":"قلب-5B", "class":"column10 style6 s", "content":"قلب" }, "fifth":{ "id":"489", "title":"الکتیو-سوم-17A", "class":"column33 style4 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"490", "title":"الکتیو-سوم-17B", "class":"column34 style4 s", "content":"الکتیو-سوم" } }, { "id":32, "class":"row31", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه شانزدهم" }, "second":{ "id":"491", "title":"روان-1A", "class":"column1 style14 s style14", "rowspan":"2", "content":"روان" }, "third":{ "id":"492", "title":"روان-1B", "class":"column2 style14 s style14", "rowspan":"2", "content":"روان" }, "forth":{ "id":"493", "title":"الکتیو-سوم-2A", "class":"column3 style4 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"494", "title":"ارتوپدی-2B", "class":"column4 style5 s", "content":"ارتوپدی" }, "sixth":{ "id":"495", "title":"قلب-3A", "class":"column5 style6 s", "content":"قلب" }, "seventh":{ "id":"496", "title":"پوست-3B", "class":"column6 style7 s", "content":"پوست" }, "eighth":{ "id":"497", "title":"کودکان-4A", "class":"column7 style13 s style13", "rowspan":"6", "content":"کودکان" }, "nineth":{ "id":"498", "title":"کودکان-4B", "class":"column8 style13 s style13", "rowspan":"6", "content":"کودکان" }, "tenth":{ "id":"499", "title":"کودکان-5A", "class":"column9 style13 s style13", "rowspan":"6", "content":"کودکان" }, "eleventh":{ "id":"500", "title":"کودکان-5B", "class":"column10 style13 s style13", "rowspan":"6", "content":"کودکان" }, "twelveth":{ "id":"501", "title":"کودکان-6A", "class":"column11 style13 s style13", "rowspan":"6", "content":"کودکان" }, "thirteenth":{ "id":"502", "title":"کودکان-6B", "class":"column12 style13 s style13", "rowspan":"6", "content":"کودکان" }, "fourteenth":{ "id":"503", "title":"اورژانس-11A", "class":"column21 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "fifteenth":{ "id":"504", "title":"اورژانس-11B", "class":"column22 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "sixteenth":{ "id":"505", "title":"زنان-12A", "class":"column23 style10 s style10", "rowspan":"2", "content":"زنان" }, "seventeenth":{ "id":"506", "title":"زنان-12B", "class":"column24 style10 s style10", "rowspan":"2", "content":"زنان" }, "eighteenth":{ "id":"507", "title":"بهداشت-13A", "class":"column25 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "nineteenth":{ "id":"508", "title":"بهداشت-13B", "class":"column26 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twentieth":{ "id":"509", "title":"عفونی-14A", "class":"column27 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentyfirst":{ "id":"510", "title":"عفونی-14B", "class":"column28 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentysecond":{ "id":"511", "title":"الکتیو-دوم-15A", "class":"column29 style4 s", "content":"الکتیو-دوم" }, "twentythird":{ "id":"512", "title":"الکتیو-دوم-15B", "class":"column30 style4 s", "content":"الکتیو-دوم" }, "twentyfourth":{ "id":"513", "title":"داخلی-16A", "class":"column31 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentyfifth":{ "id":"514", "title":"داخلی-16B", "class":"column32 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentysixth":{ "id":"515", "title":"داخلی-17A", "class":"column33 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentyseventh":{ "id":"516", "title":"داخلی-17B", "class":"column34 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentyeighth":{ "id":"517", "title":"داخلی-18A", "class":"column35 style18 s style18", "rowspan":"6", "content":"داخلی" }, "twentyninth":{ "id":"518", "title":"داخلی-18B", "class":"column36 style18 s style18", "rowspan":"6", "content":"داخلی" } }, { "id":33, "class":"row32", "first":{ "id":"519", "title":"ارتوپدی-2A", "class":"column3 style5 s", "content":"ارتوپدی" }, "second":{ "id":"520", "title":"الکتیو-سوم-2B", "class":"column4 style4 s", "content":"الکتیو-سوم" }, "third":{ "id":"521", "title":"پوست-3A", "class":"column5 style7 s", "content":"پوست" }, "forth":{ "id":"522", "title":"قلب-3B", "class":"column6 style6 s", "content":"قلب" }, "fifth":{ "id":"523", "title":"الکتیو-سوم-15A", "class":"column29 style4 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"524", "title":"الکتیو-سوم-15B", "class":"column30 style4 s", "content":"الکتیو-سوم" } }, { "id":34, "class":"row33", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه هفدهم" }, "second":{ "id":"525", "title":"قلب-1A", "class":"column1 style6 s", "content":"قلب" }, "third":{ "id":"526", "title":"پوست-1B", "class":"column2 style7 s", "content":"پوست" }, "forth":{ "id":"527", "title":"روان-2A", "class":"column3 style14 s style14", "rowspan":"2", "content":"روان" }, "fifth":{ "id":"528", "title":"روان-2B", "class":"column4 style14 s style14", "rowspan":"2", "content":"روان" }, "sixth":{ "id":"529", "title":"الکتیو-سوم-3A", "class":"column5 style4 s", "content":"الکتیو-سوم" }, "seventh":{ "id":"530", "title":"ارتوپدی-3B", "class":"column6 style5 s", "content":"ارتوپدی" }, "eighth":{ "id":"531", "title":"زنان-7A", "class":"column13 style10 s style10", "rowspan":"2", "content":"زنان" }, "nineth":{ "id":"532", "title":"زنان-7B", "class":"column14 style10 s style10", "rowspan":"2", "content":"زنان" }, "tenth":{ "id":"533", "title":"اورژانس-8A", "class":"column15 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "eleventh":{ "id":"534", "title":"اورژانس-8B", "class":"column16 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "twelveth":{ "id":"535", "title":"پزشکی خانواده-9A", "class":"column17 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "thirteenth":{ "id":"536", "title":"پزشکی خانواده-9B", "class":"column18 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "fourteenth":{ "id":"537", "title":"پزشکی خانواده-10A", "class":"column19 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "fifteenth":{ "id":"538", "title":"پزشکی خانواده-10B", "class":"column20 style15 s style15", "rowspan":"4", "content":"پزشکی خانواده" }, "sixteenth":{ "id":"539", "title":"جراحی-11A", "class":"column21 style12 s style12", "rowspan":"4", "content":"جراحی" }, "seventeenth":{ "id":"540", "title":"جراحی-11B", "class":"column22 style12 s style12", "rowspan":"4", "content":"جراحی" }, "eighteenth":{ "id":"541", "title":"جراحی-12A", "class":"column23 style12 s style12", "rowspan":"4", "content":"جراحی" }, "nineteenth":{ "id":"542", "title":"جراحی-12B", "class":"column24 style12 s style12", "rowspan":"4", "content":"جراحی" }, "twentieth":{ "id":"543", "title":"الکتیو-دوم-13A", "class":"column25 style4 s", "content":"الکتیو-دوم" }, "twentyfirst":{ "id":"544", "title":"الکتیو-دوم-13B", "class":"column26 style4 s", "content":"الکتیو-دوم" }, "twentysecond":{ "id":"545", "title":"بهداشت-14A", "class":"column27 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twentythird":{ "id":"546", "title":"بهداشت-14B", "class":"column28 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "twentyfourth":{ "id":"547", "title":"عفونی-15A", "class":"column29 style17 s style17", "rowspan":"2", "content":"عفونی" }, "twentyfifth":{ "id":"548", "title":"عفونی-15B", "class":"column30 style17 s style17", "rowspan":"2", "content":"عفونی" } }, { "id":35, "class":"row34", "first":{ "id":"549", "title":"پوست-1A", "class":"column1 style7 s", "content":"پوست" }, "second":{ "id":"550", "title":"قلب-1B", "class":"column2 style6 s", "content":"قلب" }, "third":{ "id":"551", "title":"ارتوپدی-3A", "class":"column5 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"552", "title":"الکتیو-سوم-3B", "class":"column6 style4 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"553", "title":"الکتیو-سوم-13A", "class":"column25 style4 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"554", "title":"الکتیو-سوم-13B", "class":"column26 style4 s", "content":"الکتیو-سوم" } }, { "id":36, "class":"row35", "first":{ "class":"column0 style8 s style9", "rowspan":"2", "content":"ماه هجدهم" }, "second":{ "id":"555", "title":"الکتیو-سوم-1A", "class":"column1 style4 s", "content":"الکتیو-سوم" }, "third":{ "id":"556", "title":"ارتوپدی-1B", "class":"column2 style5 s", "content":"ارتوپدی" }, "forth":{ "id":"557", "title":"قلب-2A", "class":"column3 style6 s", "content":"قلب" }, "fifth":{ "id":"558", "title":"پوست-2B", "class":"column4 style7 s", "content":"پوست" }, "sixth":{ "id":"559", "title":"روان-3A", "class":"column5 style14 s style14", "rowspan":"2", "content":"روان" }, "seventh":{ "id":"560", "title":"روان-3B", "class":"column6 style14 s style14", "rowspan":"2", "content":"روان" }, "eighth":{ "id":"561", "title":"اورژانس-7A", "class":"column13 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "nineth":{ "id":"562", "title":"اورژانس-7B", "class":"column14 style11 s style11", "rowspan":"2", "content":"اورژانس" }, "tenth":{ "id":"563", "title":"زنان-8A", "class":"column15 style10 s style10", "rowspan":"2", "content":"زنان" }, "eleventh":{ "id":"564", "title":"زنان-8B", "class":"column16 style10 s style10", "rowspan":"2", "content":"زنان" }, "twelveth":{ "id":"565", "title":"عفونی-13A", "class":"column25 style17 s style17", "rowspan":"2", "content":"عفونی" }, "thirteenth":{ "id":"566", "title":"عفونی-13B", "class":"column26 style17 s style17", "rowspan":"2", "content":"عفونی" }, "fourteenth":{ "id":"567", "title":"الکتیو-دوم-14A", "class":"column27 style4 s", "content":"الکتیو-دوم" }, "fifteenth":{ "id":"568", "title":"الکتیو-دوم-14B", "class":"column28 style4 s", "content":"الکتیو-دوم" }, "sixteenth":{ "id":"569", "title":"بهداشت-15A", "class":"column29 style16 s style16", "rowspan":"2", "content":"بهداشت" }, "seventeenth":{ "id":"570", "title":"بهداشت-15B", "class":"column30 style16 s style16", "rowspan":"2", "content":"بهداشت" } }, { "id":37, "class":"row36", "first":{ "id":"571", "title":"ارتوپدی-1A", "class":"column1 style5 s", "content":"ارتوپدی" }, "second":{ "id":"572", "title":"الکتیو-سوم-1B", "class":"column2 style4 s", "content":"الکتیو-سوم" }, "third":{ "id":"573", "title":"پوست-2A", "class":"column3 style7 s", "content":"پوست" }, "forth":{ "id":"574", "title":"قلب-2B", "class":"column4 style6 s", "content":"قلب" }, "fifth":{ "id":"575", "title":"الکتیو-سوم-14A", "class":"column27 style4 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"576", "title":"الکتیو-سوم-14B", "class":"column28 style4 s", "content":"الکتیو-سوم" } } ]'
                y = json.loads(x)
                myline = json.dumps(y)
                context = {'myline': myline,'mycapacity': data, 'me':me, 'myselection':myselection, }           
                print('select3',request.session.session_key)
                print('select4',username,password,now)
                def fun_one(end_t,me):
                    time_z = timezone('Asia/Tehran')
                    now_time = datetime.datetime.now( tz = time_z )
                    now = datetime.datetime.strptime(str(now_time)[:19], '%Y-%m-%d %H:%M:%S')
                    delay = (end_t - now).total_seconds()
                    time.sleep(delay)
                    register(me)
                    logout(request)
                thread.start_new_thread( fun_one, (end_t,me) )
                return HttpResponse(template.render(context, request))           
            else:
                messages.success(request, ("شما امکان ورود ندارید"))
                return HttpResponseRedirect(reverse('index')) 
        else:
            messages.success(request, ("نام کاربری یا رمز عبور اشتباه است"))
            return HttpResponseRedirect(reverse('index'))     
    else:
        messages.success(request, ("ابتدا وارد سایت شوید"))
        template = loader.get_template('index.html')
        return HttpResponseRedirect(reverse('index'))

def capacity(request):
    premycapacity = pd.DataFrame(list(Capacity.objects.all().values()))
    myshared = pd.DataFrame(list(Shared.objects.all().values()))
    mycapacity = pd.DataFrame()
    for _, shared_row in myshared.iterrows():
        shared_unit_value = shared_row['shared_unit']
        replacement_unit_value = shared_row['unit']       
        matching_rows = premycapacity[premycapacity['unit'] == shared_unit_value].copy()        
        matching_rows['unit'] = replacement_unit_value        
        mycapacity = pd.concat([mycapacity, matching_rows], ignore_index=True)
    data = mycapacity.to_json(orient='records')
    template = loader.get_template('capacity.html')
    x= '[ { "id":1, "class":"sheet0 gridlines", "first":{ "class":"column0 style6 null", "content":"" }, "second":{ "id":"1", "title":"1 A-1A", "class":"column1 style7 s", "content":"1 A" }, "third":{ "id":"2", "title":"1 B-1B", "class":"column2 style7 s", "content":"1 B" }, "forth":{ "id":"3", "title":"2 A-2A", "class":"column3 style7 s", "content":"2 A" }, "fifth":{ "id":"4", "title":"2 B-2B", "class":"column4 style7 s", "content":"2 B" }, "sixth":{ "id":"5", "title":"3 A-3A", "class":"column5 style7 s", "content":"3 A" }, "seventh":{ "id":"6", "title":"3 B-3B", "class":"column6 style7 s", "content":"3 B" }, "eighth":{ "id":"7", "title":"4 A-4A", "class":"column7 style7 s", "content":"4 A" }, "nineth":{ "id":"8", "title":"4 B-4B", "class":"column8 style7 s", "content":"4 B" }, "tenth":{ "id":"9", "title":"5 A-5A", "class":"column9 style7 s", "content":"5 A" }, "eleventh":{ "id":"10", "title":"5 B-5B", "class":"column10 style7 s", "content":"5 B" }, "twelveth":{ "id":"11", "title":"6 A-6A", "class":"column11 style7 s", "content":"6 A" }, "thirteenth":{ "id":"12", "title":"6 B-6B", "class":"column12 style7 s", "content":"6 B" }, "fourteenth":{ "id":"13", "title":"7 A-7A", "class":"column13 style7 s", "content":"7 A" }, "fifteenth":{ "id":"14", "title":"7 B-7B", "class":"column14 style7 s", "content":"7 B" }, "sixteenth":{ "id":"15", "title":"8 A-8A", "class":"column15 style7 s", "content":"8 A" }, "seventeenth":{ "id":"16", "title":"8 B-8B", "class":"column16 style7 s", "content":"8 B" }, "eighteenth":{ "id":"17", "title":"9 A-9A", "class":"column17 style7 s", "content":"9 A" }, "nineteenth":{ "id":"18", "title":"9 B-9B", "class":"column18 style7 s", "content":"9 B" }, "twentieth":{ "id":"19", "title":"10 A-10A", "class":"column19 style7 s", "content":"10 A" }, "twentyfirst":{ "id":"20", "title":"10 B-10B", "class":"column20 style7 s", "content":"10 B" }, "twentysecond":{ "id":"21", "title":"11 A-11A", "class":"column21 style7 s", "content":"11 A" }, "twentythird":{ "id":"22", "title":"11 B-11B", "class":"column22 style7 s", "content":"11 B" }, "twentyfourth":{ "id":"23", "title":"12 A-12A", "class":"column23 style7 s", "content":"12 A" }, "twentyfifth":{ "id":"24", "title":"12 B-12B", "class":"column24 style7 s", "content":"12 B" }, "twentysixth":{ "id":"25", "title":"13 A-13A", "class":"column25 style7 s", "content":"13 A" }, "twentyseventh":{ "id":"26", "title":"13 B-13B", "class":"column26 style7 s", "content":"13 B" }, "twentyeighth":{ "id":"27", "title":"14 A-14A", "class":"column27 style7 s", "content":"14 A" }, "twentyninth":{ "id":"28", "title":"14 B-14B", "class":"column28 style7 s", "content":"14 B" }, "thirtieth":{ "id":"29", "title":"15 A-15A", "class":"column29 style7 s", "content":"15 A" }, "thirtyfirst":{ "id":"30", "title":"15 B-15B", "class":"column30 style7 s", "content":"15 B" }, "thirtysecond":{ "id":"31", "title":"16 A-16A", "class":"column31 style7 s", "content":"16 A" }, "thirtythird":{ "id":"32", "title":"16 B-16B", "class":"column32 style7 s", "content":"16 B" }, "thirtyfourth":{ "id":"33", "title":"17 A-17A", "class":"column33 style7 s", "content":"17 A" }, "thirtyfifth":{ "id":"34", "title":"17 B-17B", "class":"column34 style7 s", "content":"17 B" }, "thirtysixth":{ "id":"35", "title":"18 A-18A", "class":"column35 style7 s", "content":"18 A" }, "thirtyseventh":{ "id":"36", "title":"18 B-18B", "class":"column36 style8 s", "content":"18 B" } }, { "id":2, "class":"row1", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه اول" }, "second":{ "id":"37", "title":"جراحی-1A", "class":"column1 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "third":{ "id":"38", "title":"زنان-3A", "class":"column5 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "forth":{ "id":"39", "title":"اورژانس-4A", "class":"column7 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "fifth":{ "id":"40", "title":"پزشکی خانواده-5A", "class":"column9 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "sixth":{ "id":"41", "title":"داخلی-7A", "class":"column13 style27 s style16", "colspan":"6", "rowspan":"6", "content":"داخلی" }, "seventh":{ "id":"42", "title":"بهداشت-10A", "class":"column19 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "eighth":{ "id":"43", "title":"عفونی-11A", "class":"column21 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "nineth":{ "id":"44", "title":"الکتیو-اول-12A", "class":"column23 style2 s", "content":"الکتیو-اول" }, "tenth":{ "id":"45", "title":"الکتیو-اول-12B", "class":"column24 style2 s", "content":"الکتیو-اول" }, "eleventh":{ "id":"46", "title":"کودکان-13A", "class":"column25 style26 s style16", "colspan":"6", "rowspan":"6", "content":"کودکان" }, "twelveth":{ "id":"47", "title":"روان-16A", "class":"column31 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "thirteenth":{ "id":"48", "title":"الکتیو-اول-17A", "class":"column33 style2 s", "content":"الکتیو-اول" }, "fourteenth":{ "id":"49", "title":"ارتوپدی-17B", "class":"column34 style3 s", "content":"ارتوپدی" }, "fifteenth":{ "id":"50", "title":"قلب-18A", "class":"column35 style4 s", "content":"قلب" }, "sixteenth":{ "id":"51", "title":"پوست-18B", "class":"column36 style9 s", "content":"پوست" } }, { "id":3, "class":"row2", "first":{ "id":"52", "title":"الکتیو-دوم-12A", "class":"column23 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"53", "title":"الکتیو-دوم-12B", "class":"column24 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"54", "title":"ارتوپدی-17A", "class":"column33 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"55", "title":"الکتیو-اول-17B", "class":"column34 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"56", "title":"پوست-18A", "class":"column35 style5 s", "content":"پوست" }, "sixth":{ "id":"57", "title":"قلب-18B", "class":"column36 style10 s", "content":"قلب" } }, { "id":4, "class":"row3", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه دوم" }, "second":{ "id":"58", "title":"اورژانس-3A", "class":"column5 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "third":{ "id":"59", "title":"زنان-4A", "class":"column7 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "forth":{ "id":"60", "title":"الکتیو-اول-10A", "class":"column19 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"61", "title":"الکتیو-اول-10B", "class":"column20 style2 s", "content":"الکتیو-اول" }, "sixth":{ "id":"62", "title":"بهداشت-11A", "class":"column21 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "seventh":{ "id":"63", "title":"عفونی-12A", "class":"column23 style24 s style20", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "eighth":{ "id":"64", "title":"قلب-16A", "class":"column31 style4 s", "content":"قلب" }, "nineth":{ "id":"65", "title":"پوست-16B", "class":"column32 style5 s", "content":"پوست" }, "tenth":{ "id":"66", "title":"روان-17A", "class":"column33 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "eleventh":{ "id":"67", "title":"الکتیو-اول-18A", "class":"column35 style2 s", "content":"الکتیو-اول" }, "twelveth":{ "id":"68", "title":"ارتوپدی-18B", "class":"column36 style11 s", "content":"ارتوپدی" } }, { "id":5, "class":"row4", "first":{ "id":"69", "title":"الکتیو-دوم-10A", "class":"column19 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"70", "title":"الکتیو-دوم-10B", "class":"column20 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"71", "title":"پوست-16A", "class":"column31 style5 s", "content":"پوست" }, "forth":{ "id":"72", "title":"قلب-16B", "class":"column32 style4 s", "content":"قلب" }, "fifth":{ "id":"73", "title":"ارتوپدی-18A", "class":"column35 style3 s", "content":"ارتوپدی" }, "sixth":{ "id":"74", "title":"الکتیو-اول-18B", "class":"column36 style2 s", "content":"الکتیو-اول" } }, { "id":6, "class":"row5", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه سوم" }, "second":{ "id":"75", "title":"پزشکی خانواده-1A", "class":"column1 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "third":{ "id":"76", "title":"جراحی-3A", "class":"column5 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "forth":{ "id":"77", "title":"زنان-5A", "class":"column9 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "fifth":{ "id":"78", "title":"اورژانس-6A", "class":"column11 style23 s style20", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "sixth":{ "id":"79", "title":"عفونی-10A", "class":"column19 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "seventh":{ "id":"80", "title":"الکتیو-اول-11A", "class":"column21 style2 s", "content":"الکتیو-اول" }, "eighth":{ "id":"81", "title":"الکتیو-اول-11B", "class":"column22 style2 s", "content":"الکتیو-اول" }, "nineth":{ "id":"82", "title":"بهداشت-12A", "class":"column23 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "tenth":{ "id":"83", "title":"الکتیو-اول-16A", "class":"column31 style2 s", "content":"الکتیو-اول" }, "eleventh":{ "id":"84", "title":"ارتوپدی-16B", "class":"column32 style3 s", "content":"ارتوپدی" }, "twelveth":{ "id":"85", "title":"قلب-17A", "class":"column33 style4 s", "content":"قلب" }, "thirteenth":{ "id":"86", "title":"پوست-17B", "class":"column34 style5 s", "content":"پوست" }, "fourteenth":{ "id":"87", "title":"روان-18A", "class":"column35 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" } }, { "id":7, "class":"row6", "first":{ "id":"88", "title":"الکتیو-دوم-11A", "class":"column21 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"89", "title":"الکتیو-دوم-11B", "class":"column22 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"90", "title":"ارتوپدی-16A", "class":"column31 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"91", "title":"الکتیو-اول-16B", "class":"column32 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"92", "title":"پوست-17A", "class":"column33 style5 s", "content":"پوست" }, "sixth":{ "id":"93", "title":"قلب-17B", "class":"column34 style4 s", "content":"قلب" } }, { "id":8, "class":"row7", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه جهارم" }, "second":{ "id":"94", "title":"اورژانس-5A", "class":"column9 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "third":{ "id":"95", "title":"زنان-6A", "class":"column11 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "forth":{ "id":"96", "title":"بهداشت-7A", "class":"column13 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "fifth":{ "id":"97", "title":"عفونی-8A", "class":"column15 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "sixth":{ "id":"98", "title":"الکتیو-اول-9A", "class":"column17 style2 s", "content":"الکتیو-اول" }, "seventh":{ "id":"99", "title":"الکتیو-اول-9B", "class":"column18 style2 s", "content":"الکتیو-اول" }, "eighth":{ "id":"100", "title":"داخلی-10A", "class":"column19 style27 s style16", "colspan":"6", "rowspan":"6", "content":"داخلی" }, "nineth":{ "id":"101", "title":"روان-13A", "class":"column25 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "tenth":{ "id":"102", "title":"الکتیو-اول-14A", "class":"column27 style2 s", "content":"الکتیو-اول" }, "eleventh":{ "id":"103", "title":"ارتوپدی-14B", "class":"column28 style3 s", "content":"ارتوپدی" }, "twelveth":{ "id":"104", "title":"قلب-15A", "class":"column29 style4 s", "content":"قلب" }, "thirteenth":{ "id":"105", "title":"پوست-15B", "class":"column30 style5 s", "content":"پوست" }, "fourteenth":{ "id":"106", "title":"کودکان-16A", "class":"column31 style26 s style16", "colspan":"6", "rowspan":"6", "content":"کودکان" } }, { "id":9, "class":"row8", "first":{ "id":"107", "title":"الکتیو-دوم-9A", "class":"column17 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"108", "title":"الکتیو-دوم-9B", "class":"column18 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"109", "title":"ارتوپدی-14A", "class":"column27 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"110", "title":"الکتیو-اول-14B", "class":"column28 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"111", "title":"پوست-15A", "class":"column29 style5 s", "content":"پوست" }, "sixth":{ "id":"112", "title":"قلب-15B", "class":"column30 style4 s", "content":"قلب" } }, { "id":10, "class":"row9", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه پنجم" }, "second":{ "id":"113", "title":"زنان-1A", "class":"column1 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "third":{ "id":"114", "title":"اورژانس-2A", "class":"column3 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "forth":{ "id":"115", "title":"پزشکی خانواده-3A", "class":"column5 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "fifth":{ "id":"116", "title":"جراحی-5A", "class":"column9 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "sixth":{ "id":"117", "title":"الکتیو-اول-7A", "class":"column13 style2 s", "content":"الکتیو-اول" }, "seventh":{ "id":"118", "title":"الکتیو-اول-7B", "class":"column14 style2 s", "content":"الکتیو-اول" }, "eighth":{ "id":"119", "title":"بهداشت-8A", "class":"column15 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "nineth":{ "id":"120", "title":"عفونی-9A", "class":"column17 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "tenth":{ "id":"121", "title":"قلب-13A", "class":"column25 style4 s", "content":"قلب" }, "eleventh":{ "id":"122", "title":"پوست-13B", "class":"column26 style5 s", "content":"پوست" }, "twelveth":{ "id":"123", "title":"روان-14A", "class":"column27 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "thirteenth":{ "id":"124", "title":"الکتیو-اول-15A", "class":"column29 style2 s", "content":"الکتیو-اول" }, "fourteenth":{ "id":"125", "title":"ارتوپدی-15B", "class":"column30 style3 s", "content":"ارتوپدی" } }, { "id":11, "class":"row10", "first":{ "id":"126", "title":"الکتیو-دوم-7A", "class":"column13 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"127", "title":"الکتیو-دوم-7B", "class":"column14 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"128", "title":"پوست-13A", "class":"column25 style5 s", "content":"پوست" }, "forth":{ "id":"129", "title":"قلب-13B", "class":"column26 style4 s", "content":"قلب" }, "fifth":{ "id":"130", "title":"ارتوپدی-15A", "class":"column29 style3 s", "content":"ارتوپدی" }, "sixth":{ "id":"131", "title":"الکتیو-اول-15B", "class":"column30 style2 s", "content":"الکتیو-اول" } }, { "id":12, "class":"row11", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه ششم" }, "second":{ "id":"132", "title":"اورژانس-1A", "class":"column1 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "third":{ "id":"133", "title":"زنان-2A", "class":"column3 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "forth":{ "id":"134", "title":"عفونی-7A", "class":"column13 style24 s style20", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "fifth":{ "id":"135", "title":"الکتیو-اول-8A", "class":"column15 style2 s", "content":"الکتیو-اول" }, "sixth":{ "id":"136", "title":"الکتیو-اول-8B", "class":"column16 style2 s", "content":"الکتیو-اول" }, "seventh":{ "id":"137", "title":"بهداشت-9A", "class":"column17 style25 s style20", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "eighth":{ "id":"138", "title":"الکتیو-اول-13A", "class":"column25 style2 s", "content":"الکتیو-اول" }, "nineth":{ "id":"139", "title":"ارتوپدی-13B", "class":"column26 style3 s", "content":"ارتوپدی" }, "tenth":{ "id":"140", "title":"قلب-14A", "class":"column27 style4 s", "content":"قلب" }, "eleventh":{ "id":"141", "title":"پوست-14B", "class":"column28 style5 s", "content":"پوست" }, "twelveth":{ "id":"142", "title":"روان-15A", "class":"column29 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" } }, { "id":13, "class":"row12", "first":{ "id":"143", "title":"الکتیو-دوم-8A", "class":"column15 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"144", "title":"الکتیو-دوم-8B", "class":"column16 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"145", "title":"ارتوپدی-13A", "class":"column25 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"146", "title":"الکتیو-اول-13B", "class":"column26 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"147", "title":"پوست-14A", "class":"column27 style5 s", "content":"پوست" }, "sixth":{ "id":"148", "title":"قلب-14B", "class":"column28 style4 s", "content":"قلب" } }, { "id":14, "class":"row13", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه هفتم" }, "second":{ "id":"149", "title":"داخلی-1A", "class":"column1 style27 s style16", "colspan":"6", "rowspan":"6", "content":"داخلی" }, "third":{ "id":"150", "title":"بهداشت-4A", "class":"column7 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "forth":{ "id":"151", "title":"عفونی-5A", "class":"column9 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "fifth":{ "id":"152", "title":"الکتیو-اول-6A", "class":"column11 style2 s", "content":"الکتیو-اول" }, "sixth":{ "id":"153", "title":"الکتیو-اول-6B", "class":"column12 style2 s", "content":"الکتیو-اول" }, "seventh":{ "id":"154", "title":"کودکان-7A", "class":"column13 style26 s style16", "colspan":"6", "rowspan":"6", "content":"کودکان" }, "eighth":{ "id":"155", "title":"روان-10A", "class":"column19 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "nineth":{ "id":"156", "title":"الکتیو-سوم-11A", "class":"column21 style2 s", "content":"الکتیو-سوم" }, "tenth":{ "id":"157", "title":"ارتوپدی-11B", "class":"column22 style3 s", "content":"ارتوپدی" }, "eleventh":{ "id":"158", "title":"قلب-12A", "class":"column23 style4 s", "content":"قلب" }, "twelveth":{ "id":"159", "title":"پوست-12B", "class":"column24 style5 s", "content":"پوست" }, "thirteenth":{ "id":"160", "title":"جراحی-13A", "class":"column25 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "fourteenth":{ "id":"161", "title":"زنان-15A", "class":"column29 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "fifteenth":{ "id":"162", "title":"اورژانس-16A", "class":"column31 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "sixteenth":{ "id":"163", "title":"پزشکی خانواده-17A", "class":"column33 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" } }, { "id":15, "class":"row14", "first":{ "id":"164", "title":"الکتیو-دوم-6A", "class":"column11 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"165", "title":"الکتیو-دوم-6B", "class":"column12 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"166", "title":"ارتوپدی-11A", "class":"column21 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"167", "title":"الکتیو-سوم-11B", "class":"column22 style2 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"168", "title":"پوست-12A", "class":"column23 style5 s", "content":"پوست" }, "sixth":{ "id":"169", "title":"قلب-12B", "class":"column24 style4 s", "content":"قلب" } }, { "id":16, "class":"row15", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه هشتم" }, "second":{ "id":"170", "title":"الکتیو-اول-4A", "class":"column7 style2 s", "content":"الکتیو-اول" }, "third":{ "id":"171", "title":"الکتیو-اول-4B", "class":"column8 style2 s", "content":"الکتیو-اول" }, "forth":{ "id":"172", "title":"بهداشت-5A", "class":"column9 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "fifth":{ "id":"173", "title":"عفونی-6A", "class":"column11 style24 s style20", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "sixth":{ "id":"174", "title":"قلب-10A", "class":"column19 style4 s", "content":"قلب" }, "seventh":{ "id":"175", "title":"پوست-10B", "class":"column20 style5 s", "content":"پوست" }, "eighth":{ "id":"176", "title":"روان-11A", "class":"column21 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "nineth":{ "id":"177", "title":"الکتیو-سوم-12A", "class":"column23 style2 s", "content":"الکتیو-سوم" }, "tenth":{ "id":"178", "title":"ارتوپدی-12B", "class":"column24 style3 s", "content":"ارتوپدی" }, "eleventh":{ "id":"179", "title":"اورژانس-15A", "class":"column29 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "twelveth":{ "id":"180", "title":"زنان-16A", "class":"column31 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" } }, { "id":17, "class":"row16", "first":{ "id":"181", "title":"الکتیو-دوم-4A", "class":"column7 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"182", "title":"الکتیو-دوم-4B", "class":"column8 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"183", "title":"پوست-10A", "class":"column19 style5 s", "content":"پوست" }, "forth":{ "id":"184", "title":"قلب-10B", "class":"column20 style4 s", "content":"قلب" }, "fifth":{ "id":"185", "title":"ارتوپدی-12A", "class":"column23 style3 s", "content":"ارتوپدی" }, "sixth":{ "id":"186", "title":"الکتیو-سوم-12B", "class":"column24 style2 s", "content":"الکتیو-سوم" } }, { "id":18, "class":"row17", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه نهم" }, "second":{ "id":"187", "title":"عفونی-4A", "class":"column7 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "third":{ "id":"188", "title":"الکتیو-اول-5A", "class":"column9 style2 s", "content":"الکتیو-اول" }, "forth":{ "id":"189", "title":"الکتیو-اول-5B", "class":"column10 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"190", "title":"بهداشت-6A", "class":"column11 style25 s style20", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "sixth":{ "id":"191", "title":"الکتیو-سوم-10A", "class":"column19 style2 s", "content":"الکتیو-سوم" }, "seventh":{ "id":"192", "title":"ارتوپدی-10B", "class":"column20 style3 s", "content":"ارتوپدی" }, "eighth":{ "id":"193", "title":"قلب-11A", "class":"column21 style4 s", "content":"قلب" }, "nineth":{ "id":"194", "title":"پوست-11B", "class":"column22 style5 s", "content":"پوست" }, "tenth":{ "id":"195", "title":"روان-12A", "class":"column23 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "eleventh":{ "id":"196", "title":"پزشکی خانواده-13A", "class":"column25 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "twelveth":{ "id":"197", "title":"جراحی-15A", "class":"column29 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "thirteenth":{ "id":"198", "title":"زنان-17A", "class":"column33 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "fourteenth":{ "id":"199", "title":"اورژانس-18A", "class":"column35 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" } }, { "id":19, "class":"row18", "first":{ "id":"200", "title":"الکتیو-دوم-5A", "class":"column9 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"201", "title":"الکتیو-دوم-5B", "class":"column10 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"202", "title":"ارتوپدی-10A", "class":"column19 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"203", "title":"الکتیو-سوم-10B", "class":"column20 style2 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"204", "title":"پوست-11A", "class":"column21 style5 s", "content":"پوست" }, "sixth":{ "id":"205", "title":"قلب-11B", "class":"column22 style4 s", "content":"قلب" } }, { "id":20, "class":"row19", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه دهم" }, "second":{ "id":"206", "title":"بهداشت-1A", "class":"column1 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "third":{ "id":"207", "title":"عفونی-2A", "class":"column3 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "forth":{ "id":"208", "title":"الکتیو-اول-3A", "class":"column5 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"209", "title":"الکتیو-اول-3B", "class":"column6 style2 s", "content":"الکتیو-اول" }, "sixth":{ "id":"210", "title":"داخلی-4A", "class":"column7 style27 s style16", "colspan":"6", "rowspan":"6", "content":"داخلی" }, "seventh":{ "id":"211", "title":"روان-7A", "class":"column13 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "eighth":{ "id":"212", "title":"الکتیو-سوم-8A", "class":"column15 style2 s", "content":"الکتیو-سوم" }, "nineth":{ "id":"213", "title":"ارتوپدی-8B", "class":"column16 style3 s", "content":"ارتوپدی" }, "tenth":{ "id":"214", "title":"قلب-9A", "class":"column17 style4 s", "content":"قلب" }, "eleventh":{ "id":"215", "title":"پوست-9B", "class":"column18 style5 s", "content":"پوست" }, "twelveth":{ "id":"216", "title":"کودکان-10A", "class":"column19 style26 s style16", "colspan":"6", "rowspan":"6", "content":"کودکان" }, "thirteenth":{ "id":"217", "title":"اورژانس-17A", "class":"column33 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "fourteenth":{ "id":"218", "title":"زنان-18A", "class":"column35 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" } }, { "id":21, "class":"row20", "first":{ "id":"219", "title":"الکتیو-دوم-3A", "class":"column5 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"220", "title":"الکتیو-دوم-3B", "class":"column6 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"221", "title":"ارتوپدی-8A", "class":"column15 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"222", "title":"الکتیو-سوم-8B", "class":"column16 style2 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"223", "title":"پوست-9A", "class":"column17 style5 s", "content":"پوست" }, "sixth":{ "id":"224", "title":"قلب-9B", "class":"column18 style4 s", "content":"قلب" } }, { "id":22, "class":"row21", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه یازدهم" }, "second":{ "id":"225", "title":"الکتیو-اول-1A", "class":"column1 style2 s", "content":"الکتیو-اول" }, "third":{ "id":"226", "title":"الکتیو-اول-1B", "class":"column2 style2 s", "content":"الکتیو-اول" }, "forth":{ "id":"227", "title":"بهداشت-2A", "class":"column3 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "fifth":{ "id":"228", "title":"عفونی-3A", "class":"column5 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "sixth":{ "id":"229", "title":"قلب-7A", "class":"column13 style4 s", "content":"قلب" }, "seventh":{ "id":"230", "title":"پوست-7B", "class":"column14 style5 s", "content":"پوست" }, "eighth":{ "id":"231", "title":"روان-8A", "class":"column15 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "nineth":{ "id":"232", "title":"الکتیو-سوم-9A", "class":"column17 style2 s", "content":"الکتیو-سوم" }, "tenth":{ "id":"233", "title":"ارتوپدی-9B", "class":"column18 style3 s", "content":"ارتوپدی" }, "eleventh":{ "id":"234", "title":"زنان-13A", "class":"column25 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "twelveth":{ "id":"235", "title":"اورژانس-14A", "class":"column27 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "thirteenth":{ "id":"236", "title":"پزشکی خانواده-15A", "class":"column29 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "fourteenth":{ "id":"237", "title":"جراحی-17A", "class":"column33 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" } }, { "id":23, "class":"row22", "first":{ "id":"238", "title":"الکتیو-دوم-1A", "class":"column1 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"239", "title":"الکتیو-دوم-1B", "class":"column2 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"240", "title":"پوست-7A", "class":"column13 style5 s", "content":"پوست" }, "forth":{ "id":"241", "title":"قلب-7B", "class":"column14 style4 s", "content":"قلب" }, "fifth":{ "id":"242", "title":"ارتوپدی-9A", "class":"column17 style3 s", "content":"ارتوپدی" }, "sixth":{ "id":"243", "title":"الکتیو-سوم-9B", "class":"column18 style2 s", "content":"الکتیو-سوم" } }, { "id":24, "class":"row23", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه دوازدهم" }, "second":{ "id":"244", "title":"عفونی-1A", "class":"column1 style24 s style20", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "third":{ "id":"245", "title":"الکتیو-اول-2A", "class":"column3 style2 s", "content":"الکتیو-اول" }, "forth":{ "id":"246", "title":"الکتیو-اول-2B", "class":"column4 style2 s", "content":"الکتیو-اول" }, "fifth":{ "id":"247", "title":"بهداشت-3A", "class":"column5 style25 s style20", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "sixth":{ "id":"248", "title":"الکتیو-سوم-7A", "class":"column13 style2 s", "content":"الکتیو-سوم" }, "seventh":{ "id":"249", "title":"ارتوپدی-7B", "class":"column14 style3 s", "content":"ارتوپدی" }, "eighth":{ "id":"250", "title":"قلب-8A", "class":"column15 style4 s", "content":"قلب" }, "nineth":{ "id":"251", "title":"پوست-8B", "class":"column16 style5 s", "content":"پوست" }, "tenth":{ "id":"252", "title":"روان-9A", "class":"column17 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "eleventh":{ "id":"253", "title":"اورژانس-13A", "class":"column25 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "twelveth":{ "id":"254", "title":"زنان-14A", "class":"column27 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" } }, { "id":25, "class":"row24", "first":{ "id":"255", "title":"الکتیو-دوم-2A", "class":"column3 style2 s", "content":"الکتیو-دوم" }, "second":{ "id":"256", "title":"الکتیو-دوم-2B", "class":"column4 style2 s", "content":"الکتیو-دوم" }, "third":{ "id":"257", "title":"ارتوپدی-7A", "class":"column13 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"258", "title":"الکتیو-سوم-7B", "class":"column14 style2 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"259", "title":"پوست-8A", "class":"column15 style5 s", "content":"پوست" }, "sixth":{ "id":"260", "title":"قلب-8B", "class":"column16 style4 s", "content":"قلب" } }, { "id":26, "class":"row25", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه سیزدهم" }, "second":{ "id":"261", "title":"کودکان-1A", "class":"column1 style26 s style16", "colspan":"6", "rowspan":"6", "content":"کودکان" }, "third":{ "id":"262", "title":"روان-4A", "class":"column7 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "forth":{ "id":"263", "title":"الکتیو-سوم-5A", "class":"column9 style2 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"264", "title":"ارتوپدی-5B", "class":"column10 style3 s", "content":"ارتوپدی" }, "sixth":{ "id":"265", "title":"قلب-6A", "class":"column11 style4 s", "content":"قلب" }, "seventh":{ "id":"266", "title":"پوست-6B", "class":"column12 style5 s", "content":"پوست" }, "eighth":{ "id":"267", "title":"جراحی-7A", "class":"column13 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "nineth":{ "id":"268", "title":"زنان-9A", "class":"column17 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "tenth":{ "id":"269", "title":"اورژانس-10A", "class":"column19 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "eleventh":{ "id":"270", "title":"پزشکی خانواده-11A", "class":"column21 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "twelveth":{ "id":"271", "title":"داخلی-13A", "class":"column25 style27 s style16", "colspan":"6", "rowspan":"6", "content":"داخلی" }, "thirteenth":{ "id":"272", "title":"بهداشت-16A", "class":"column31 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "fourteenth":{ "id":"273", "title":"عفونی-17A", "class":"column33 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "fifteenth":{ "id":"274", "title":"الکتیو-دوم-18A", "class":"column35 style2 s", "content":"الکتیو-دوم" }, "sixteenth":{ "id":"275", "title":"الکتیو-دوم-18B", "class":"column36 style2 s", "content":"الکتیو-دوم" } }, { "id":27, "class":"row26", "first":{ "id":"276", "title":"ارتوپدی-5A", "class":"column9 style3 s", "content":"ارتوپدی" }, "second":{ "id":"277", "title":"الکتیو-سوم-5B", "class":"column10 style2 s", "content":"الکتیو-سوم" }, "third":{ "id":"278", "title":"پوست-6A", "class":"column11 style5 s", "content":"پوست" }, "forth":{ "id":"279", "title":"قلب-6B", "class":"column12 style4 s", "content":"قلب" }, "fifth":{ "id":"280", "title":"الکتیو-سوم-18A", "class":"column35 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"281", "title":"الکتیو-سوم-18B", "class":"column36 style2 s", "content":"الکتیو-سوم" } }, { "id":28, "class":"row27", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه چهاردهم" }, "second":{ "id":"282", "title":"قلب-4A", "class":"column7 style4 s", "content":"قلب" }, "third":{ "id":"283", "title":"پوست-4B", "class":"column8 style5 s", "content":"پوست" }, "forth":{ "id":"284", "title":"روان-5A", "class":"column9 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "fifth":{ "id":"285", "title":"الکتیو-سوم-6A", "class":"column11 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"286", "title":"ارتوپدی-6B", "class":"column12 style3 s", "content":"ارتوپدی" }, "seventh":{ "id":"287", "title":"اورژانس-9A", "class":"column17 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "eighth":{ "id":"288", "title":"زنان-10A", "class":"column19 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "nineth":{ "id":"289", "title":"الکتیو-دوم-16A", "class":"column31 style2 s", "content":"الکتیو-دوم" }, "tenth":{ "id":"290", "title":"الکتیو-دوم-16B", "class":"column32 style2 s", "content":"الکتیو-دوم" }, "eleventh":{ "id":"291", "title":"بهداشت-17A", "class":"column33 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "twelveth":{ "id":"292", "title":"عفونی-18A", "class":"column35 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" } }, { "id":29, "class":"row28", "first":{ "id":"293", "title":"پوست-4A", "class":"column7 style5 s", "content":"پوست" }, "second":{ "id":"294", "title":"قلب-4B", "class":"column8 style4 s", "content":"قلب" }, "third":{ "id":"295", "title":"ارتوپدی-6A", "class":"column11 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"296", "title":"الکتیو-سوم-6B", "class":"column12 style2 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"297", "title":"الکتیو-سوم-16A", "class":"column31 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"298", "title":"الکتیو-سوم-16B", "class":"column32 style2 s", "content":"الکتیو-سوم" } }, { "id":30, "class":"row29", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه پانزدهم" }, "second":{ "id":"299", "title":"الکتیو-سوم-4A", "class":"column7 style2 s", "content":"الکتیو-سوم" }, "third":{ "id":"300", "title":"ارتوپدی-4B", "class":"column8 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"301", "title":"قلب-5A", "class":"column9 style4 s", "content":"قلب" }, "fifth":{ "id":"302", "title":"پوست-5B", "class":"column10 style5 s", "content":"پوست" }, "sixth":{ "id":"303", "title":"روان-6A", "class":"column11 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "seventh":{ "id":"304", "title":"پزشکی خانواده-7A", "class":"column13 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "eighth":{ "id":"305", "title":"جراحی-9A", "class":"column17 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "nineth":{ "id":"306", "title":"زنان-11A", "class":"column21 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "tenth":{ "id":"307", "title":"اورژانس-12A", "class":"column23 style23 s style20", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "eleventh":{ "id":"308", "title":"عفونی-16A", "class":"column31 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "twelveth":{ "id":"309", "title":"الکتیو-دوم-17A", "class":"column33 style2 s", "content":"الکتیو-دوم" }, "thirteenth":{ "id":"310", "title":"الکتیو-دوم-17B", "class":"column34 style2 s", "content":"الکتیو-دوم" }, "fourteenth":{ "id":"311", "title":"بهداشت-18A", "class":"column35 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" } }, { "id":31, "class":"row30", "first":{ "id":"312", "title":"ارتوپدی-4A", "class":"column7 style3 s", "content":"ارتوپدی" }, "second":{ "id":"313", "title":"الکتیو-سوم-4B", "class":"column8 style2 s", "content":"الکتیو-سوم" }, "third":{ "id":"314", "title":"پوست-5A", "class":"column9 style5 s", "content":"پوست" }, "forth":{ "id":"315", "title":"قلب-5B", "class":"column10 style4 s", "content":"قلب" }, "fifth":{ "id":"316", "title":"الکتیو-سوم-17A", "class":"column33 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"317", "title":"الکتیو-سوم-17B", "class":"column34 style2 s", "content":"الکتیو-سوم" } }, { "id":32, "class":"row31", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه شانزدهم" }, "second":{ "id":"318", "title":"روان-1A", "class":"column1 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "third":{ "id":"319", "title":"الکتیو-سوم-2A", "class":"column3 style2 s", "content":"الکتیو-سوم" }, "forth":{ "id":"320", "title":"ارتوپدی-2B", "class":"column4 style3 s", "content":"ارتوپدی" }, "fifth":{ "id":"321", "title":"قلب-3A", "class":"column5 style4 s", "content":"قلب" }, "sixth":{ "id":"322", "title":"پوست-3B", "class":"column6 style5 s", "content":"پوست" }, "seventh":{ "id":"323", "title":"کودکان-4A", "class":"column7 style26 s style16", "colspan":"6", "rowspan":"6", "content":"کودکان" }, "eighth":{ "id":"324", "title":"اورژانس-11A", "class":"column21 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "nineth":{ "id":"325", "title":"زنان-12A", "class":"column23 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "tenth":{ "id":"326", "title":"بهداشت-13A", "class":"column25 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "eleventh":{ "id":"327", "title":"عفونی-14A", "class":"column27 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "twelveth":{ "id":"328", "title":"الکتیو-دوم-15A", "class":"column29 style2 s", "content":"الکتیو-دوم" }, "thirteenth":{ "id":"329", "title":"الکتیو-دوم-15B", "class":"column30 style2 s", "content":"الکتیو-دوم" }, "fourteenth":{ "id":"330", "title":"داخلی-16A", "class":"column31 style27 s style16", "colspan":"6", "rowspan":"6", "content":"داخلی" } }, { "id":33, "class":"row32", "first":{ "id":"331", "title":"ارتوپدی-2A", "class":"column3 style3 s", "content":"ارتوپدی" }, "second":{ "id":"332", "title":"الکتیو-سوم-2B", "class":"column4 style2 s", "content":"الکتیو-سوم" }, "third":{ "id":"333", "title":"پوست-3A", "class":"column5 style5 s", "content":"پوست" }, "forth":{ "id":"334", "title":"قلب-3B", "class":"column6 style4 s", "content":"قلب" }, "fifth":{ "id":"335", "title":"الکتیو-سوم-15A", "class":"column29 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"336", "title":"الکتیو-سوم-15B", "class":"column30 style2 s", "content":"الکتیو-سوم" } }, { "id":34, "class":"row33", "first":{ "class":"column0 style17 s style18", "rowspan":"2", "content":"ماه هفدهم" }, "second":{ "id":"337", "title":"قلب-1A", "class":"column1 style4 s", "content":"قلب" }, "third":{ "id":"338", "title":"پوست-1B", "class":"column2 style5 s", "content":"پوست" }, "forth":{ "id":"339", "title":"روان-2A", "class":"column3 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "fifth":{ "id":"340", "title":"الکتیو-سوم-3A", "class":"column5 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"341", "title":"ارتوپدی-3B", "class":"column6 style3 s", "content":"ارتوپدی" }, "seventh":{ "id":"342", "title":"زنان-7A", "class":"column13 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "eighth":{ "id":"343", "title":"اورژانس-8A", "class":"column15 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "nineth":{ "id":"344", "title":"پزشکی خانواده-9A", "class":"column17 style19 s style16", "colspan":"4", "rowspan":"4", "content":"پزشکی خانواده" }, "tenth":{ "id":"345", "title":"جراحی-11A", "class":"column21 style21 s style16", "colspan":"4", "rowspan":"4", "content":"جراحی" }, "eleventh":{ "id":"346", "title":"الکتیو-دوم-13A", "class":"column25 style2 s", "content":"الکتیو-دوم" }, "twelveth":{ "id":"347", "title":"الکتیو-دوم-13B", "class":"column26 style2 s", "content":"الکتیو-دوم" }, "thirteenth":{ "id":"348", "title":"بهداشت-14A", "class":"column27 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" }, "fourteenth":{ "id":"349", "title":"عفونی-15A", "class":"column29 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" } }, { "id":35, "class":"row34", "first":{ "id":"350", "title":"پوست-1A", "class":"column1 style5 s", "content":"پوست" }, "second":{ "id":"351", "title":"قلب-1B", "class":"column2 style4 s", "content":"قلب" }, "third":{ "id":"352", "title":"ارتوپدی-3A", "class":"column5 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"353", "title":"الکتیو-سوم-3B", "class":"column6 style2 s", "content":"الکتیو-سوم" }, "fifth":{ "id":"354", "title":"الکتیو-سوم-13A", "class":"column25 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"355", "title":"الکتیو-سوم-13B", "class":"column26 style2 s", "content":"الکتیو-سوم" } }, { "id":36, "class":"row35", "first":{ "class":"column0 style17 s style31", "rowspan":"2", "content":"ماه هجدهم" }, "second":{ "id":"356", "title":"الکتیو-سوم-1A", "class":"column1 style2 s", "content":"الکتیو-سوم" }, "third":{ "id":"357", "title":"ارتوپدی-1B", "class":"column2 style3 s", "content":"ارتوپدی" }, "forth":{ "id":"358", "title":"قلب-2A", "class":"column3 style4 s", "content":"قلب" }, "fifth":{ "id":"359", "title":"پوست-2B", "class":"column4 style5 s", "content":"پوست" }, "sixth":{ "id":"360", "title":"روان-3A", "class":"column5 style15 s style16", "colspan":"2", "rowspan":"2", "content":"روان" }, "seventh":{ "id":"361", "title":"اورژانس-7A", "class":"column13 style23 s style16", "colspan":"2", "rowspan":"2", "content":"اورژانس" }, "eighth":{ "id":"362", "title":"زنان-8A", "class":"column15 style22 s style16", "colspan":"2", "rowspan":"2", "content":"زنان" }, "nineth":{ "id":"363", "title":"عفونی-13A", "class":"column25 style24 s style16", "colspan":"2", "rowspan":"2", "content":"عفونی" }, "tenth":{ "id":"364", "title":"الکتیو-دوم-14A", "class":"column27 style2 s", "content":"الکتیو-دوم" }, "eleventh":{ "id":"365", "title":"الکتیو-دوم-14B", "class":"column28 style2 s", "content":"الکتیو-دوم" }, "twelveth":{ "id":"366", "title":"بهداشت-15A", "class":"column29 style25 s style16", "colspan":"2", "rowspan":"2", "content":"بهداشت" } }, { "id":37, "class":"row36", "first":{ "id":"367", "title":"ارتوپدی-1A", "class":"column1 style12 s", "content":"ارتوپدی" }, "second":{ "id":"368", "title":"الکتیو-سوم-1B", "class":"column2 style2 s", "content":"الکتیو-سوم" }, "third":{ "id":"369", "title":"پوست-2A", "class":"column3 style13 s", "content":"پوست" }, "forth":{ "id":"370", "title":"قلب-2B", "class":"column4 style14 s", "content":"قلب" }, "fifth":{ "id":"371", "title":"الکتیو-سوم-14A", "class":"column27 style2 s", "content":"الکتیو-سوم" }, "sixth":{ "id":"372", "title":"الکتیو-سوم-14B", "class":"column28 style2 s", "content":"الکتیو-سوم" } } ]'
    y = json.loads(x)
    myline = json.dumps(y)
    context = {'myline': myline,'mycapacity': data,}
    return HttpResponse(template.render(context, request))

def selected(request):
    print('selected1',request.session.session_key)
    if (request.session.session_key != None):
        if request.method == "POST":
            raw_data = request.body
            body_unicode = raw_data.decode('utf-8')
            body = json.loads(body_unicode)
            print('selected2',body, request.user)
            key = list(body.keys())
            if key[0] == 'sel':
                if body['sel'][0]['c'] == '':
                    if body['sel'][0]['b'] == '':
                        return JsonResponse({'status': 'OK'}, status=200)
                    else:
                        try:
                            line_detector_not_shared = Selection.objects.get(item_en='line').choice
                            unit_detector_not_shared = body['sel'][0]['a'] +"-"+ line_detector_not_shared
                            unit_detector = Shared.objects.get(unit=unit_detector_not_shared).shared_unit
                            line_detector = unit_detector.split('-')[-1]
                            hospital_capacity = Capacity.objects.get(line=line_detector, unit=unit_detector, hospital=body['sel'][0]['b'])
                            if int(hospital_capacity.remain or 0) > 0:
                                select = Selection(item_fa = body['sel'][0]['a'], item_en = body['sel'][0]['d'], choice = body['sel'][0]['b'], iden = body['sel'][0]['i'], line_c = body['sel'][0]['line_c'])
                                select.save()
                                return JsonResponse({'status': 'OK'}, status=200)
                            else:
                                return JsonResponse({"error": "not found"}, status=404)
                        except:
                            print('selected3.5',body['sel'][0])
                            return JsonResponse({"error": "not found"}, status=404)
                            
                else:
                    if body['sel'][0]['b'] == '':
                        try:
                            deleted_count, _ = Selection.objects.filter(item_fa=body['sel'][0]['a']).delete()
                            if deleted_count > 0:
                                return JsonResponse({'status': 'OK'}, status=200)
                            else:
                                return JsonResponse({"error": "not found"}, status=404)
                        except:
                            print('selected3',body['sel'][0]['a'])
                            return JsonResponse({"error": "not found"}, status=404)   
                    else:
                        try:
                            line_detector_not_shared = Selection.objects.get(item_en='line').choice
                            unit_detector_not_shared = body['sel'][0]['a'] +"-"+ line_detector_not_shared
                            unit_detector = Shared.objects.get(unit=unit_detector_not_shared).shared_unit
                            line_detector = unit_detector.split('-')[-1]
                            hospital_capacity = Capacity.objects.get(line=line_detector, unit=unit_detector, hospital=body['sel'][0]['b'])
                            if int(hospital_capacity.remain) > 0:
                                select = Selection.objects.get(item_fa=body['sel'][0]['a'])
                                select.choice = body['sel'][0]['b']
                                select.save()
                                return JsonResponse({'status': 'OK'}, status=200)
                            else:
                                return JsonResponse({"error": "not found"}, status=404)
                        except:
                            print('selected4',body['sel'][0]['a'])
                            return JsonResponse({"error": "not found"}, status=404)
            elif key[0] == 'final':
                try:
                    instance = Selection.objects.all()
                    print('selected5',Selection.objects.all().values())
                    instance.delete()
                    if body['final'][0]['line'] == "N":
                        return JsonResponse({'status': 'OK'}, status=200)
                    else:
                        line_capacity = Capacity.objects.get(line=body['final'][0]['line'], hospital='All')
                        if int(line_capacity.remain) > 0:
                            select = Selection(item_fa = 'user', item_en = 'user', choice = request.user, iden = request.user, line_c = request.user )
                            select.save() 
                            select = Selection(item_fa = 'line', item_en = 'line', choice = body['final'][0]['line'], iden = body['final'][0]['line'] , line_c = body['final'][0]['line'])
                            select.save() 
                            return JsonResponse({'status': 'OK'}, status=200)
                        else:
                            return JsonResponse({"error": "not found"}, status=404)
                except:
                    return JsonResponse({"error": "not found"}, status=404)
            else:
                print('selected6')
                return JsonResponse({'status': 'OK'}, status=200)
        else:
            print('selected7')
            return JsonResponse({"error": "not found"}, status=404)
    else:
        print('selected8')
        return JsonResponse({"error": "not found", 'message': 'شخص دیگری وارد اکانت شما شده، مجددا وارد شوید'}, status=404)
   

def loggedout_manual(request):
    print('loggedout_manual1',request.session.session_key)
    time_z = timezone('Asia/Tehran')
    now_time = datetime.datetime.now( tz = time_z )
    print('loggedout_manual2', now_time)
    try:
        me =  Members.objects.get(student_id=request.user)
        register(me)
        print('loggedout_manual3', me)
        me.end_time = datetime.datetime.strptime(str(now_time)[:19], '%Y-%m-%d %H:%M:%S')
        me.save()
        logout(request)
        messages.success(request, ("انتخاب های شما با موفقیت ثبت شد"))
        return HttpResponseRedirect(reverse('index'))
    except:
        messages.success(request, ("مشکلی در ثبت انتخاب های شما رخ داد"))
        return HttpResponseRedirect(reverse('index'))


def register(me):
    try:
        selected_all = Selection.objects.all().values()
        print('register1', me, selected_all)
    except:
        print('register_at_beginning')
    if len(selected_all)>0:
        if selected_all[0]['choice'] == me.student_id:
            select = Selection.objects.get(choice=me.student_id)
            select.choice = ''
            select.save()
            i = 1
            try:
                line_sel_not_shared = selected_all[1]['choice']
                me.line = line_sel_not_shared
                me.save() 
            except:
                print('register2', me, selected_all[1]['choice'], 'couldnt add line')
            while i < len(selected_all) - 1:
                i = i + 1
                try:
                    item_en = selected_all[i]['item_en']
                    hospital_sel = selected_all[i]['choice']
                    setattr(me, item_en, hospital_sel)
                    me.save() 
                except:
                    print('register', me,selected_all[i]['item_en'], selected_all[1]['choice'],i , 'couldnt add choice')
                    
                
            instance = Selection.objects.all()
            instance.delete()  

            Capacity.objects.update(reserved=0, remain=F('full'))

            thread.start_new_thread( capacity_checker, () )    
        
        else:
            print('register7', "dont match")
    else:
        print('register8', "no choice")
    instance = Selection.objects.all()
    instance.delete()
    

def pas(request):
    print('pas',request.session.session_key)
    if request.method == "POST":
        username = request.POST['username']
        password = request.POST['password']
        print('pas',username,password)
        user = authenticate(request, username=username, password=password)
        if user is not None:         
            login(request, user)
            def fun_two():
                time.sleep(1800)
                logout(request)
            
            thread.start_new_thread( fun_two, ())
            return HttpResponseRedirect('change_password/')
        else:
            messages.success(request, ("نام کاربری یا رمز عبور اشتباه است"))
            return HttpResponseRedirect(reverse('index'))     
    else:
        messages.success(request, ("ابتدا وارد سایت شوید"))
        return HttpResponseRedirect(reverse('index'))
        

class PasswordsChangeView(PasswordChangeView):
    form_class = FarsiPasswordChangeForm
    def form_valid(self, form):
        form.save()
        self.request.session.flush()
        logout(self.request)
        return super().form_valid(form)
    success_url = reverse_lazy('index')

@user_passes_test(lambda u: u.is_superuser)
def userdata(request):
    with open(r"C:\Users\ASUS\Desktop\program\project\intern-hospital-line-selection\myworld\line\templates\csv\your_file.csv") as csv_file:
        csvf = reader(csv_file)
        data = []
        for row in csvf:
            if row[0] == '':
                break
            else:
                user = User(username=row[0])
                user.set_password(row[1])
                data.append(user) 
        User.objects.bulk_create(data)   
    return JsonResponse('user csv is now working', safe=False)

@user_passes_test(lambda u: u.is_superuser)
def get_real_time_data(request):
    data_realtime = Members.objects.all()
    data_real_time  = serializers.serialize('json', data_realtime)
    return JsonResponse(data_real_time, safe=False)

@user_passes_test(lambda u: u.is_superuser)
def get_selection_data(request):
    data_selection = Selection.objects.all()
    data_selectionn  = serializers.serialize('json', data_selection)
    return JsonResponse(data_selectionn, safe=False)

@user_passes_test(lambda u: u.is_superuser)
def update_real_time_data(request):
    if request.method == 'POST':
        data = json.loads(request.body)
        tableId = data['final'].get('tableId')
        rowId = data['final'].get('rowId')
        columnIndex = data['final'].get('columnIndex')
        columnname = data['final'].get('columnname')
        value = data['final'].get('value')
        print("update", tableId, rowId, columnIndex, columnname, value)
        if tableId == 'selectionTable':
            celleted_cell = Selection.objects.all().order_by('id')[int(rowId)-1]

        else:
            celleted_cell = Members.objects.all().order_by('id')[int(rowId)-1]
        setattr(celleted_cell, columnname.strip(), value)
        celleted_cell.save() 
        
        return JsonResponse({'message': 'Data updated successfully'})
    else:
        return JsonResponse({'message': 'Invalid request method'}, status=405)

@user_passes_test(lambda u: u.is_superuser)
def realtime_data_page(request):
    return render(request, 'realtime_data.html')

def concurrentlogincheck(request):
    key_from_cookie = request.session.session_key
    if hasattr(request.user, 'visitor'):
        session_key_in_visitor_db = request.user.visitor.session_key
        if session_key_in_visitor_db == key_from_cookie:
            return JsonResponse({'status': 'OK'}, status=200)
        else:
            print("concurrentlogin",request.user,key_from_cookie,session_key_in_visitor_db)
            return JsonResponse({"error": "not found", 'message': 'شخص دیگری وارد اکانت شما شده، مجددا وارد شوید'}, status=404)
    else:
        print("concurrentlogin2",request.user,key_from_cookie)
        return JsonResponse({"error": "not found", 'message': 'شخص دیگری وارد اکانت شما شده، مجددا وارد شوید'}, status=404)
            
from django.db import transaction

def capacity_checker():
    df = pd.DataFrame(list(Members.objects.all().values()))              

    df = df.drop(columns=["num", "id", "name", "student_id", "start_time", "end_time", "gender","logged"])
    lines = df["line"].dropna().unique().tolist()
    lines.remove('')


    capacity_updates = []
    shared_capacity_updates = []

    for line_name in lines:
        line_df = df[df['line'] == line_name]
        for unit_name in line_df.columns:
            if unit_name == 'line':
                match = re.match(r'(\d+)(\D+)', line_name)
                unit_sel = f"{match.group(1)} {match.group(2)}-{line_name}"
                unit_list = line_df[unit_name].tolist()
                reserved_count = Counter(unit_list).get(line_name, 0)
                capacity_updates.append((line_name, unit_sel, reserved_count))
            else:
                unit_list = line_df[unit_name].tolist()
                counts = Counter(unit_list)
                for hospital_name, count in counts.items():
                    if pd.isna(hospital_name) or hospital_name == '':
                        continue
                    unit_sel_not_shared = unit_name.replace('surgery', 'جراحی') \
                            .replace('internal', 'داخلی') \
                            .replace('pediatrics', 'کودکان') \
                            .replace('gynocology', 'زنان') \
                            .replace('orthopedix', 'ارتوپدی') \
                            .replace('cardiology', 'قلب') \
                            .replace('emergency', 'اورژانس') \
                            .replace('elective', 'الکتیو') \
                            .replace('one', 'اول') \
                            .replace('two', 'دوم') \
                            .replace('three', 'سوم') \
                            .replace('_', '-') + "-" + line_name
                    unit_sel = Shared.objects.get(unit=unit_sel_not_shared).shared_unit
                    line_sel = unit_sel.split('-')[-1]
                    shared_capacity_updates.append((line_sel, unit_sel, hospital_name, count))  

    aggregated_shared_updates = {}
    for line, unit, hospital, count in shared_capacity_updates:
        key = (line, unit, hospital)
        if key in aggregated_shared_updates:
            aggregated_shared_updates[key] += count
        else:
            aggregated_shared_updates[key] = count              
    
    with transaction.atomic():
        for line, unit, reserved in capacity_updates:
                capacity_sel = Capacity.objects.get(line=line, unit=unit)
                capacity_sel.reserved = reserved
                capacity_sel.remain = int(capacity_sel.full) - reserved
                capacity_sel.save()
    with transaction.atomic():
        for (line, unit, hospital), reserved in aggregated_shared_updates.items():
            capacity_sel = Capacity.objects.get(line=line, unit=unit, hospital=hospital)
            capacity_sel.reserved = reserved
            capacity_sel.remain = int(capacity_sel.full) - reserved
            capacity_sel.save()
    
    print('ok')

def selector(request):
    raw_data = request.body
    body_unicode = raw_data.decode('utf-8')
    body = json.loads(body_unicode)
    unitName_not_shared = body['unitName']
    unitName = Shared.objects.get(unit=unitName_not_shared).shared_unit
    unit_detectors = Shared.objects.filter(shared_unit=unitName)
    list_person = list()
    try:
        for unit_detector in unit_detectors:
            line_detector = unit_detector.unit.split('-')[-1]
            unit = unit_detector.unit.replace('-' + line_detector, '')
            unit_rev_1 = unit.replace('-', '_')  # Reverse the last operation first
            unit_rev_2 = unit_rev_1.replace('اول', 'one')
            unit_rev_3 = unit_rev_2.replace('دوم', 'two')
            unit_rev_4 = unit_rev_3.replace('سوم', 'three')
            unit_rev_5 = unit_rev_4.replace('الکتیو', 'elective')
            unit_rev_6 = unit_rev_5.replace('اورژانس', 'emergency')
            unit_rev_7 = unit_rev_6.replace('قلب', 'cardiology')
            unit_rev_8 = unit_rev_7.replace('ارتوپدی', 'orthopedix')
            unit_rev_9 = unit_rev_8.replace('زنان', 'gynocology')
            unit_rev_10 = unit_rev_9.replace('کودکان', 'pediatrics')
            unit_rev_11 = unit_rev_10.replace('داخلی', 'internal')
            unit_rev_12 = unit_rev_11.replace('جراحی', 'surgery')
            selectors = Members.objects.filter(line=line_detector)
            for person in selectors:
                list_person.append({
                    'name': person.name,
                    'hospital': getattr(person, unit_rev_12)
                })
    except:
            line_detector = unitName.split('-')[-1]
            selectors = Members.objects.filter(line=line_detector)
            for person in selectors:
                list_person.append({
                    'name': person.name,
                    'hospital': ""
                })
    return JsonResponse({
        'status': 'OK',
        'count': len(list_person),
        'persons': list_person
    }, status=200, safe=False)

from django.http import JsonResponse

def validate_selections(request):
    user = request.user
    if not request.user.is_authenticated:
        return JsonResponse({'error': 'Unauthorized'}, status=401)
    # Get user's selections from database
    selections = Selection.objects.all()
    
    # Example validation logic - modify according to your requirements
    required_units = ['ارتوپدی','اورژانس','داخلی','جراحی','قلب','کودکان','زنان','الکتیو-اول','الکتیو-دوم','الکتیو-سوم'] # Your required units here
    selected_units = [s.item_fa for s in selections]
    missing = [u for u in required_units if u not in selected_units]
    
    is_valid = len(missing) == 0
    message = "تمام موارد الزامی انتخاب شده اند." if is_valid else f"موارد الزامی زیر انتخاب نشده اند: {', '.join(missing)}"
    print('validate_selections',is_valid, message)
    return JsonResponse({
        'valid': is_valid,
        'message': message
    })

def get_selected_options(request):
    if not request.user.is_authenticated:
        return JsonResponse({'error': 'Unauthorized'}, status=401)
    
    # Get user's selections from database
    selections = Selection.objects.exclude(item_fa__in=['user', 'line'])
    
    # Format selections into readable text
    options = []
    for selection in selections:
        options.append(f"{selection.item_fa}: {selection.choice or 'هیچ کدام'}")
    print('get_selected_options',options)
    return JsonResponse({
        'options': '\n'.join(options)
    })